<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
  <title>Strategy Quest ‚Äì Competitive Strategy Game</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* ===== DESIGN SYSTEM ===== */
    :root {
      /* Colors - Professional but Playful */
      --bg-dark: #020617;
      --bg-card: #ffffff;
      --accent: #6366f1;
      --accent-hover: #4f46e5;
      --success: #10b981;
      --success-light: #d1fae5;
      --success-dark: #065f46;
      --danger: #ef4444;
      --danger-light: #fee2e2;
      --danger-dark: #991b1b;
      
      /* Typography */
      --text-primary: #111827;
      --text-secondary: #1f2937;
      --text-muted: #6b7280;
      
      /* Spacing & Shadows */
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
      
      /* Transitions */
      --transition: all 0.2s ease;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      font-size: 16px;
      line-height: 1.6;
      margin: 0;
      background: var(--bg-dark);
      background-image: 
        radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.08) 0%, transparent 50%);
      background-attachment: fixed;
      color: var(--text-primary);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    header {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1.5rem;
      box-shadow: var(--shadow-sm);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .header-left > div:first-child {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .score {
      display: flex;
      gap: 1rem;
      font-size: 0.9rem;
    }

    .score-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--bg-card);
      padding: 0.5rem 1rem;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      transition: var(--transition);
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .score-item:hover {
      box-shadow: var(--shadow);
      transform: translateY(-1px);
    }

    .score-item strong {
      color: var(--accent);
      font-size: 1.1rem;
      font-weight: 700;
    }

    nav {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    nav button {
      padding: 0.625rem 1.25rem;
      border: none;
      border-radius: 8px;
      background: transparent;
      color: var(--text-secondary);
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      transition: var(--transition);
      border-bottom: 2px solid transparent;
    }

    nav button:hover {
      color: var(--accent);
      background: rgba(99, 102, 241, 0.05);
    }

    nav button:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    nav button.active {
      color: var(--accent);
      background: rgba(99, 102, 241, 0.1);
      border-bottom-color: var(--accent);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
      position: relative;
      z-index: 1;
    }

    section {
      display: none;
      animation: fadeIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    section.active {
      display: block;
    }

    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(20px);
      }
      to { 
        opacity: 1; 
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--text-primary);
      line-height: 1.2;
      margin: 0 0 1rem 0;
    }

    h2 {
      font-size: 2rem;
      font-weight: 700;
      color: var(--text-primary);
      line-height: 1.3;
      margin: 0 0 1.5rem 0;
    }

    h3 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text-primary);
      line-height: 1.4;
      margin: 0 0 1rem 0;
    }

    h4 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-primary);
      margin: 0 0 0.75rem 0;
    }

    .tile-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .tile {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 12px;
      padding: 2rem;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow);
      color: var(--text-secondary);
    }

    .tile:focus {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .tile:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-4px);
      border-color: var(--accent);
    }

    .tile:active {
      transform: translateY(-2px);
    }

    .tile h3 {
      margin-top: 0;
      margin-bottom: 1rem;
    }

    .badge {
      display: inline-block;
      padding: 0.375rem 0.75rem;
      border-radius: 6px;
      background: rgba(99, 102, 241, 0.1);
      color: var(--accent);
      font-size: 0.75rem;
      font-weight: 600;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
      border: 1px solid rgba(99, 102, 241, 0.2);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      transition: var(--transition);
    }

    .badge:hover {
      background: rgba(99, 102, 241, 0.15);
    }

    .badge.secondary {
      background: rgba(251, 191, 36, 0.1);
      color: #d97706;
      border-color: rgba(251, 191, 36, 0.2);
    }

    .badge.success {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
      border-color: rgba(16, 185, 129, 0.2);
    }

    .card {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
      color: var(--text-secondary);
    }

    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    .quiz-card {
      border-left: 4px solid var(--accent);
    }

    .question-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
    }

    .question-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem 0.75rem;
      border-radius: 6px;
      background: rgba(99, 102, 241, 0.1);
      color: var(--accent);
      font-size: 0.75rem;
      font-weight: 600;
      border: 1px solid rgba(99, 102, 241, 0.2);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .question-number {
      font-size: 0.875rem;
      color: var(--text-secondary);
      font-weight: 600;
      background: var(--bg-card);
      padding: 0.5rem 1rem;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.1);
    }

    .card h3 {
      margin-top: 0;
      color: #111827;
      margin-bottom: 1rem;
    }

    .question {
      margin: 1.5rem 0;
      font-weight: 700;
      font-size: 1.3rem;
      color: #111827;
      line-height: 1.6;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .options button {
      display: block;
      width: 100%;
      text-align: left;
      padding: 1rem 1.25rem;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      background: var(--bg-card);
      cursor: pointer;
      transition: var(--transition);
      font-size: 1rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .options button:hover:not(:disabled) {
      border-color: var(--accent);
      background: rgba(99, 102, 241, 0.05);
      transform: translateX(4px);
    }

    .options button:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .options button:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }

    .options button.correct {
      background: var(--success-light);
      border-color: var(--success);
      color: var(--success-dark);
    }

    .options button.wrong {
      background: var(--danger-light);
      border-color: var(--danger);
      color: var(--danger-dark);
    }

    .feedback {
      font-size: 1.1rem;
      margin-top: 1.5rem;
      padding: 1.5rem;
      border-radius: 15px;
      font-weight: 600;
      animation: feedbackSlide 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes feedbackSlide {
      from {
        opacity: 0;
        transform: translateY(-20px) scale(0.9);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .feedback.correct {
      background: var(--success-light);
      color: var(--success-dark);
      border: 1px solid var(--success);
    }

    .feedback.incorrect {
      background: var(--danger-light);
      color: var(--danger-dark);
      border: 1px solid var(--danger);
    }

    .progress {
      font-size: 0.95rem;
      color: var(--text-secondary);
      margin-bottom: 1.5rem;
      padding: 0.875rem 1.25rem;
      background: var(--bg-card);
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.08);
      font-weight: 500;
    }

    .hidden {
      display: none;
    }

    /* Session Intro Card */
    #sessionIntroCard {
      border-left: 4px solid #a855f7;
      background: rgba(76, 29, 149, 0.12);
    }

    #sessionIntroTitle {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }

    #sessionIntroText {
      color: var(--text-secondary);
    }

    /* Session Cards in Course Map */
    .session-card {
      padding: 1.25rem 1.5rem;
      border-radius: 16px;
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.4);
      margin-bottom: 1rem;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }

    .session-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 24px rgba(129, 140, 248, 0.55);
      border-color: #818cf8;
    }

    .session-card h3 {
      font-size: 1.05rem;
      margin-bottom: 0.4rem;
    }

    .session-main {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .session-link {
      font-size: 0.85rem;
      margin-top: 0.4rem;
      color: #a5b4fc;
    }

    button {
      padding: 0.875rem 1.75rem;
      border: none;
      border-radius: 8px;
      background: var(--accent);
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow);
    }

    button:hover:not(:disabled) {
      background: var(--accent-hover);
      box-shadow: var(--shadow-lg);
      transform: translateY(-1px);
    }

    button:active:not(:disabled) {
      transform: translateY(0);
    }

    button:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    button:disabled {
      background: #e5e7eb;
      color: #9ca3af;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .xp-gain {
      position: fixed;
      top: 100px;
      right: 20px;
      background: var(--success);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      box-shadow: var(--shadow-lg);
      font-weight: 600;
      font-size: 0.95rem;
      z-index: 1000;
      animation: xpSlideIn 0.3s ease-out, xpSlideOut 0.3s ease-in 2.7s forwards;
    }

    @keyframes xpSlideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes xpSlideOut {
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOut {
      to {
        transform: translateX(400px);
        opacity: 0;
      }
    }

    .badge-display {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .badge-item {
      background: var(--accent);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .badge-item:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }

    .badge-item.empty {
      background: var(--bg-card);
      color: var(--text-muted);
      border: 1px solid rgba(0, 0, 0, 0.1);
    }

    .module-completion {
      margin-top: 1.5rem;
      padding: 1.5rem;
      background: var(--bg-card);
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.08);
    }

    .module-completion h4 {
      margin-bottom: 1rem;
    }

    .completion-bar {
      width: 100%;
      height: 8px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 4px;
      overflow: hidden;
      margin-top: 0.75rem;
    }

    .completion-fill {
      height: 100%;
      background: var(--accent);
      transition: width 0.5s ease;
      border-radius: 4px;
    }

    p, li {
      color: var(--text-secondary);
      line-height: 1.7;
    }

    ul {
      list-style: none;
      padding-left: 0;
    }

    ul li {
      padding: 0.5rem 0;
      padding-left: 1.5rem;
      position: relative;
    }

    ul li::before {
      content: '‚Ä¢';
      position: absolute;
      left: 0;
      color: var(--accent);
      font-weight: bold;
    }

    small {
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #f59e0b;
      animation: confettiFall linear forwards;
      z-index: 9999;
      pointer-events: none;
    }

    @keyframes confettiFall {
      to {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    .mini-framework {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      margin-top: 1rem;
    }

    .mini-framework h3 {
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
    }

    .mini-framework ul {
      margin: 0;
      padding-left: 1.5rem;
    }

    .mini-framework li {
      margin: 0.5rem 0;
    }

    .answer-template {
      background: var(--bg-card);
      border: 1px solid rgba(251, 191, 36, 0.3);
      margin-top: 1rem;
    }

    .exam-summary {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      padding: 2rem;
      border-radius: 12px;
      margin-top: 2rem;
      text-align: center;
    }

    .rank-display {
      font-size: 1.25rem;
      font-weight: 700;
      margin: 1rem 0;
      padding: 1rem;
      background: var(--bg-card);
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.08);
    }

    /* Home Page Styles */
    .home-hero {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 12px;
      padding: 3rem;
      margin-bottom: 2rem;
      text-align: center;
      box-shadow: var(--shadow-lg);
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .home-hero h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .home-hero p {
      font-size: 1.125rem;
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 2rem;
    }

    .home-section {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow);
    }

    .home-section h3 {
      color: #111827;
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .home-section p, .home-section li {
      color: #1f2937;
      line-height: 1.8;
      font-size: 1.05rem;
    }

    .home-section ul {
      margin: 1rem 0;
      padding-left: 0;
    }

    .home-section li {
      padding: 0.75rem 0;
      padding-left: 2rem;
      position: relative;
    }

    .home-section li::before {
      content: '‚ñ∏';
      position: absolute;
      left: 0;
      color: #818cf8;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .home-section ol {
      color: #1f2937;
      line-height: 2;
      font-size: 1.05rem;
      margin: 1rem 0;
      padding-left: 2rem;
    }

    .home-section ol li {
      padding: 0.75rem 0;
      padding-left: 0.5rem;
      position: relative;
      list-style: decimal;
    }

    .home-section ol li::before {
      display: none;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .feature-card {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 8px;
      padding: 1.5rem;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
    }

    .feature-card:hover {
      box-shadow: var(--shadow);
      transform: translateY(-2px);
    }

    .feature-card h4 {
      font-size: 1.125rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .feature-card p {
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .cta-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 2rem;
    }

    /* Flip Card Styles for Glossary */
    .glossary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .flip-card {
      background-color: transparent;
      width: 100%;
      height: 200px;
      perspective: 1000px;
      cursor: pointer;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flip-card.flipped .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card-front, .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 15px;
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }

    .flip-card-front {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      transition: var(--transition);
    }

    .flip-card:hover .flip-card-front {
      box-shadow: var(--shadow-lg);
    }

    .flip-card-back {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      transform: rotateY(180deg);
      text-align: left;
      justify-content: flex-start;
    }

    .flip-card-front h4 {
      font-size: 1.125rem;
      margin: 0;
    }

    .flip-card-back p {
      line-height: 1.6;
      font-size: 0.95rem;
      margin: 0;
    }

    .flip-hint {
      position: absolute;
      bottom: 1rem;
      font-size: 0.75rem;
      color: var(--text-muted);
      font-weight: 500;
    }

    /* Flashcard Study Mode Styles */
    .flashcard-study-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2rem;
      margin: 2rem 0;
      min-height: 500px;
    }

    .flashcard-nav-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border: 2px solid var(--accent);
      background: var(--bg-card);
      color: var(--accent);
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      flex-shrink: 0;
    }

    .flashcard-nav-btn:hover:not(:disabled) {
      background: var(--accent);
      color: white;
      transform: scale(1.1);
    }

    .flashcard-nav-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .flashcard-study-card-wrapper {
      flex: 1;
      max-width: 800px;
      perspective: 1000px;
    }

    .flashcard-study-card {
      width: 100%;
      height: 400px;
      cursor: pointer;
      position: relative;
    }

    .flashcard-study-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flashcard-study-card.flipped .flashcard-study-inner {
      transform: rotateY(180deg);
    }

    .flashcard-study-front,
    .flashcard-study-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 12px;
      padding: 3rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-shadow: var(--shadow-lg);
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
    }

    .flashcard-study-back {
      transform: rotateY(180deg);
    }

    .flashcard-number {
      position: absolute;
      top: 1.5rem;
      left: 1.5rem;
      font-size: 0.875rem;
      color: var(--text-muted);
      font-weight: 600;
    }

    .flashcard-study-front h3,
    .flashcard-study-back h3 {
      font-size: 1.5rem;
      line-height: 1.6;
      margin: 0;
      color: var(--text-primary);
    }

    .flashcard-hint {
      position: absolute;
      bottom: 2rem;
      font-size: 0.875rem;
      color: var(--text-muted);
      font-style: italic;
    }

    .flashcard-actions {
      position: absolute;
      bottom: 2rem;
      display: flex;
      gap: 1rem;
      width: 100%;
      justify-content: center;
      padding: 0 2rem;
    }

    .flashcard-action-btn {
      padding: 0.875rem 2rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      flex: 1;
      max-width: 200px;
    }

    .flashcard-good {
      background: var(--success);
      color: white;
    }

    .flashcard-good:hover {
      background: var(--success-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .flashcard-bad {
      background: var(--danger);
      color: white;
    }

    .flashcard-bad:hover {
      background: var(--danger-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    @media (max-width: 768px) {
      .flashcard-study-container {
        flex-direction: column;
        gap: 1rem;
        min-height: auto;
      }

      .flashcard-nav-btn {
        width: 50px;
        height: 50px;
        font-size: 1.25rem;
      }

      .flashcard-study-card {
        height: 350px;
      }

      .flashcard-study-front,
      .flashcard-study-back {
        padding: 2rem 1.5rem;
      }

      .flashcard-study-front h3,
      .flashcard-study-back h3 {
        font-size: 1.25rem;
      }

      .flashcard-actions {
        flex-direction: column;
        gap: 0.75rem;
      }

      .flashcard-action-btn {
        max-width: 100%;
      }
    }

    /* Course Map Improvements */
    .course-map-card {
      background: var(--bg-card);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow);
    }

    .course-map-card h3 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
    }

    .course-map-card p {
      line-height: 1.7;
      margin-bottom: 1rem;
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }

      header {
        padding: 1rem;
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      nav {
        width: 100%;
        overflow-x: auto;
      }

      nav button {
        flex: 0 0 auto;
        font-size: 0.875rem;
        padding: 0.75rem 1rem;
        min-height: 44px; /* Touch target size */
      }

      .tile-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .tile {
        min-height: 44px; /* Touch target size */
      }

      .options button {
        min-height: 48px; /* Touch target size */
        padding: 1.25rem 1.5rem;
      }

      h1 {
        font-size: 2rem;
      }

      h2 {
        font-size: 1.75rem;
      }

      .home-hero {
        padding: 2rem 1.5rem;
      }

      .home-hero h1 {
        font-size: 2rem;
      }

      .home-hero p {
        font-size: 1rem;
      }

      .xp-gain {
        right: 10px;
        top: 80px;
        font-size: 0.875rem;
        padding: 0.75rem 1rem;
      }

      .glossary-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <div><strong>Strategy Quest</strong> ‚Äì Learn Competitive Strategy by Playing</div>
      <div class="score">
        <div class="score-item">
          <span>‚≠ê XP:</span>
          <strong id="xp">0</strong>
        </div>
        <div class="score-item">
          <span>üèÜ Badges:</span>
          <strong id="badges">0</strong>
        </div>
      </div>
    </div>
    <nav>
      <button onclick="showSection('home')" class="active">Home</button>
      <button onclick="showSection('courseMap')">Course Map</button>
      <button onclick="showSection('modules')">Modules</button>
      <button onclick="showSection('glossary')">Glossary</button>
      <button onclick="showSection('flashcards')">Flashcards</button>
      <button onclick="showSection('scoreboard')">Scoreboard</button>
    </nav>
  </header>

  <div class="container">
    <!-- HOME -->
    <section id="home" class="active">
      <div class="home-hero">
        <h1>Welcome to the Course Competitive Strategy Wrap Up</h1>
        <p>
          Your complete revision hub for mastering Competitive Strategy. Learn frameworks, practice with real cases, 
          and test your knowledge through interactive quizzes. Earn XP, unlock badges, and become a Strategy Wizard!
        </p>
        <div class="cta-buttons">
          <button onclick="showSection('modules')" style="font-size: 1.1rem; padding: 1rem 2.5rem;">üöÄ Start Learning</button>
          <button onclick="showSection('courseMap')" style="font-size: 1.1rem; padding: 1rem 2.5rem; background: var(--accent);">üìö View Course Map</button>
        </div>
      </div>

      <div class="home-section">
        <h3>üéØ How It Works</h3>
        <p>
          This platform transforms Competitive Strategy concepts into engaging learning missions. Each module follows a structured approach:
        </p>
        <ul>
          <li><strong>Mini Lesson:</strong> Quick explanation of the framework or concept</li>
          <li><strong>Real Company Case:</strong> See how frameworks apply to actual businesses (Tesla, Netflix, Yellow Tail, Glovo, etc.)</li>
          <li><strong>Interactive Quiz:</strong> Test your understanding with immediate feedback</li>
          <li><strong>Framework Recap:</strong> Quick reference checklist for each framework</li>
        </ul>
      </div>

      <div class="home-section">
        <h3>üìñ Available Sections</h3>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>üìö Course Map</h4>
            <p>Navigate the complete course structure. See all sessions, frameworks, and jump directly to relevant modules.</p>
          </div>
          <div class="feature-card">
            <h4>üéÆ Modules</h4>
            <p>Five main modules: Strategy Fundamentals, Macro & Trends, Industry Battles, Firm Strategy, and Platforms & Ecosystems. Each with multiple levels covering key frameworks.</p>
          </div>
          <div class="feature-card">
            <h4>üìñ Glossary</h4>
            <p>Quick reference for key strategy vocabulary. Find definitions for PESTEL, VRIO, network effects, and more.</p>
          </div>
          <div class="feature-card">
            <h4>üèÜ Scoreboard</h4>
            <p>Track your progress, view unlocked badges, and see your XP across all modules.</p>
          </div>
        </div>
      </div>

      <div class="home-section">
        <h3>‚≠ê XP System & Rewards</h3>
        <p>Earn Experience Points (XP) as you learn and progress through the course:</p>
        <ul>
          <li><strong>+10 XP</strong> for each correct answer in practice mode</li>
          <li><strong>+20 XP</strong> for completing a level</li>
          <li><strong>+50 XP</strong> for completing an entire module</li>
          <li><strong>Variable XP</strong> in Exam Mode based on your final score</li>
        </ul>
        <p style="margin-top: 1rem;">
          <strong>Badges:</strong> Unlock special badges when you complete each module:
        </p>
        <ul>
          <li>üèÖ <strong>Strategic Thinker</strong> - Complete Strategy Fundamentals</li>
          <li>üèÖ <strong>Trend Watcher</strong> - Complete Macro & Trends</li>
          <li>üèÖ <strong>Industry Analyst</strong> - Complete Industry Battles</li>
          <li>üèÖ <strong>Strategy Architect</strong> - Complete Firm Strategy</li>
          <li>üèÖ <strong>Platform Guru</strong> - Complete Platforms & Ecosystems</li>
        </ul>
      </div>

      <div class="home-section">
        <h3>üéì Learning Modes</h3>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>üí° Practice Mode</h4>
            <p>Learn at your own pace with instant feedback after each question. Perfect for understanding concepts and frameworks.</p>
          </div>
          <div class="feature-card">
            <h4>üéØ Exam Mode</h4>
            <p>Simulate exam conditions with a 90-second timer per question. Feedback only at the end. Get a rank based on your score!</p>
          </div>
          <div class="feature-card">
            <h4>üî• Boss Battle</h4>
            <p>Final challenge! Answer 10 random questions from all modules. Test your overall knowledge and earn the Strategy Wizard rank.</p>
          </div>
        </div>
      </div>

      <div class="home-section">
        <h3>üöÄ Quick Start Guide</h3>
        <ol>
          <li><strong>New to the course?</strong> Start with the <strong>Course Map</strong> to see the full syllabus and understand the structure.</li>
          <li><strong>Want to learn a specific topic?</strong> Go to <strong>Modules</strong> and choose Macro, Industry, Firm Strategy, or Platforms.</li>
          <li><strong>Need a quick definition?</strong> Check the <strong>Glossary</strong> for key terms and concepts.</li>
          <li><strong>Ready for a challenge?</strong> Try <strong>Exam Mode</strong> or the <strong>Boss Battle</strong> to test your knowledge!</li>
          <li><strong>Track your progress:</strong> Visit the <strong>Scoreboard</strong> to see your XP, badges, and completion stats.</li>
        </ol>
      </div>

      <div class="home-section" style="text-align: center;">
        <h3>Ready to Start?</h3>
        <p style="font-size: 1.125rem; margin-bottom: 2rem; color: var(--text-secondary);">
          Choose your path and begin your strategy learning journey!
        </p>
        <div class="cta-buttons">
          <button onclick="showSection('modules')" style="font-size: 1.1rem; padding: 1rem 2.5rem;">Explore Modules</button>
          <button onclick="showSection('courseMap')" style="font-size: 1.1rem; padding: 1rem 2.5rem; background: var(--accent);">View Course Map</button>
        </div>
      </div>
    </section>

    <!-- MODULES OVERVIEW -->
    <section id="modules">
      <div class="card">
        <h2>Modules</h2>
        <p>Choose a module to start your learning journey. Each module has 3 levels with lessons, cases, and quizzes.</p>
      </div>
      <div class="tile-grid">
        <div class="tile" onclick="startModule('fundamentals')" role="button" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();startModule('fundamentals');}">
          <h3>Strategy Fundamentals</h3>
          <span class="badge">Formulation</span>
          <span class="badge">Implementation</span>
          <p>Strategic management process, formulation vs implementation, strategy vs operational effectiveness.</p>
          <p><small>3 levels ‚Ä¢ ~60‚Äì100 XP</small></p>
          <div id="fundamentals-progress" class="module-completion" style="display: none;">
            <h4>Progress</h4>
            <div class="completion-bar">
              <div class="completion-fill" id="fundamentals-bar" style="width: 0%"></div>
            </div>
          </div>
        </div>
        <div class="tile" onclick="startModule('macro')">
          <h3>Macro & Trends</h3>
          <span class="badge">PESTEL</span>
          <span class="badge">Scenarios</span>
          <p>Macroenvironment analysis: PESTEL, key drivers of change, stakeholders & uncertainty.</p>
          <p><small>3 levels ‚Ä¢ ~60‚Äì100 XP</small></p>
          <div id="macro-progress" class="module-completion" style="display: none;">
            <h4>Progress</h4>
            <div class="completion-bar">
              <div class="completion-fill" id="macro-bar" style="width: 0%"></div>
            </div>
          </div>
        </div>
        <div class="tile" onclick="startModule('industry')" role="button" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();startModule('industry');}">
          <h3>Industry Battles</h3>
          <span class="badge">5 Forces</span>
          <p>Airlines, streaming, wine‚Ä¶ see how industry structure shapes profitability.</p>
          <p><small>3 levels ‚Ä¢ ~60‚Äì100 XP</small></p>
          <div id="industry-progress" class="module-completion" style="display: none;">
            <h4>Progress</h4>
            <div class="completion-bar">
              <div class="completion-fill" id="industry-bar" style="width: 0%"></div>
            </div>
          </div>
        </div>
        <div class="tile" onclick="startModule('firm')" role="button" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();startModule('firm');}">
          <h3>Firm Strategy</h3>
          <span class="badge">Value Stick</span>
          <span class="badge">VRIO</span>
          <p>Value stick, generic strategies, resources & capabilities, dynamic capabilities.</p>
          <p><small>3 levels ‚Ä¢ ~60‚Äì100 XP</small></p>
          <div id="firm-progress" class="module-completion" style="display: none;">
            <h4>Progress</h4>
            <div class="completion-bar">
              <div class="completion-fill" id="firm-bar" style="width: 0%"></div>
            </div>
          </div>
        </div>
        <div class="tile" onclick="startModule('platforms')" role="button" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();startModule('platforms');}">
          <h3>Platforms & Ecosystems</h3>
          <span class="badge secondary">Network Effects</span>
          <p>Platform business models, direct interactions, network effects and winner-take-all.</p>
          <p><small>3 levels ‚Ä¢ ~60‚Äì100 XP</small></p>
          <div id="platforms-progress" class="module-completion" style="display: none;">
            <h4>Progress</h4>
            <div class="completion-bar">
              <div class="completion-fill" id="platforms-bar" style="width: 0%"></div>
            </div>
          </div>
        </div>
        <div class="tile" onclick="startBossBattle()" role="button" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();startBossBattle();}" style="border-color: var(--danger);">
          <h3>üî• Final Boss Battle</h3>
          <span class="badge" style="background: rgba(239, 68, 68, 0.1); color: var(--danger); border-color: rgba(239, 68, 68, 0.3);">Mixed Quiz</span>
          <p>Test your knowledge across all modules with 10 random questions!</p>
          <p><small>All topics ‚Ä¢ Final challenge</small></p>
        </div>
      </div>
    </section>

    <!-- COURSE MAP -->
    <section id="courseMap">
      <div class="course-map-card">
        <h2>üìö Course Map ‚Äì Complete Syllabus</h2>
        <p>Navigate the entire course structure. Click any session to jump directly to the relevant module.</p>
      </div>
      
      <div class="session-card" onclick="openSession('session0')">
        <h3>Session 0 ‚Äì Strategy Fundamentals & Process</h3>
        <p class="session-main">
          Strategic management process, formulation vs implementation, strategy vs operational effectiveness, competitive advantage.
        </p>
        <p class="session-link">
          ‚ñ∂ Start with <strong>Strategy Fundamentals ‚Äì Level 1</strong>
        </p>
      </div>

      <div class="session-card" onclick="openSession('session1')">
        <h3>Session 1 ‚Äì What is Strategy? Value Creation & Generic Strategies</h3>
        <p class="session-main">
          Value Stick (SOC ‚Üí Cost ‚Üí Price ‚Üí WTP), generic strategies (cost leadership, differentiation, focus), hybrid strategies, stuck in the middle.
        </p>
        <p class="session-link">
          ‚ñ∂ Start with <strong>Firm Strategy ‚Äì Level 1</strong>
        </p>
      </div>

      <div class="session-card" onclick="openSession('session2')">
        <h3>Session 2 ‚Äì Industry Analysis & Competitive Dynamics</h3>
        <p class="session-main">
          Porter's 5 Forces, complements, profit pool, strategic groups, mobility barriers, Key Success Factors (KSFs).
        </p>
        <p class="session-link">
          ‚ñ∂ Start with <strong>Industry Battles ‚Äì Level 1</strong>
        </p>
      </div>

      <div class="session-card" onclick="openSession('session3')">
        <h3>Session 3 ‚Äì Resources & Capabilities</h3>
        <p class="session-main">
          Resource-based View (RBV), VRIO framework, core competences, dynamic capabilities (sensing, seizing, reconfiguring), Buy vs Build, Value Chain Analysis.
        </p>
        <p class="session-link">
          ‚ñ∂ Start with <strong>Firm Strategy ‚Äì Level 2</strong>
        </p>
      </div>

      <div class="session-card" onclick="openSession('session4')">
        <h3>Session 4 ‚Äì Blue Ocean Strategy & Positioning</h3>
        <p class="session-main">
          Blue Ocean Strategy, value curve, ERRC grid (Eliminate, Reduce, Raise, Create), Three Tiers of Non-Customers, simultaneous differentiation and low cost.
        </p>
        <p class="session-link">
          ‚ñ∂ Start with <strong>Industry Battles ‚Äì Level 3</strong>
        </p>
      </div>

      <div class="session-card" onclick="openSession('session5')">
        <h3>Session 5 ‚Äì Platforms & Network Effects</h3>
        <p class="session-main">
          Platform vs Pipeline business models, direct vs cross-side network effects, tipping points, winner-take-all dynamics, three modes of platform competition.
        </p>
        <p class="session-link">
          ‚ñ∂ Start with <strong>Platforms & Ecosystems ‚Äì Level 1</strong>
        </p>
      </div>

      <div class="session-card" onclick="openSession('session6')">
        <h3>Session 6 ‚Äì Macro Environment & Uncertainty</h3>
        <p class="session-main">
          PESTEL analysis (identifying key drivers of change), stakeholder analysis (coalitions, pressure), scenario planning (dealing with high uncertainty, multiple plausible futures).
        </p>
        <p class="session-link">
          ‚ñ∂ Start with <strong>Macro & Trends ‚Äì Level 1</strong>
        </p>
      </div>
    </section>

    <!-- GLOSSARY -->
    <section id="glossary">
      <div class="card">
        <h2>üìñ Glossary ‚Äì Strategy Vocabulary</h2>
        <p>Click on any card to flip it and see the definition. Click again to flip back.</p>
      </div>

      <div class="glossary-grid">
        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Activity System</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Activity System:</strong> The set of interconnected activities that create value. Activities must fit together coherently.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Blue Ocean Strategy</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Blue Ocean Strategy:</strong> Creating new market space by changing the value curve (ERRC: Eliminate, Reduce, Raise, Create).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Competitive Advantage</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Competitive Advantage:</strong> When a firm earns higher returns than competitors in the same industry.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Cross-side Network Effects</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Cross-side Network Effects:</strong> When more users on one side (e.g., restaurants) increase value for the other side (e.g., customers).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Demand-side Network Effects</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Demand-side Network Effects:</strong> When a product's value increases with the number of users (e.g., messaging apps).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Dynamic Capabilities</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Dynamic Capabilities:</strong> Firm's ability to sense opportunities/threats, seize them, and reconfigure resources over time.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Endogenous Change</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Endogenous Change:</strong> Change driven by competitive moves within the industry (vs exogenous = from outside).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Exogenous Change</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Exogenous Change:</strong> Change from the macroenvironment (regulation, technology shifts) affecting all firms.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>5 Forces</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>5 Forces:</strong> Porter's framework: rivalry, threat of entry, substitutes, buyer power, supplier power.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Key Drivers of Change</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Key Drivers of Change:</strong> Major trends identified in PESTEL that will shape industries and markets.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Macroenvironment</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Macroenvironment:</strong> Political, Economic, Social, Technological, Environmental, Legal forces (PESTEL).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Platform Business Model</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Platform Business Model:</strong> Enables direct interactions between different types of affiliated customers (vs pipeline = owning assets).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>PESTEL</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>PESTEL:</strong> Framework scanning Political, Economic, Sociocultural, Technological, Environmental, Legal forces.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Resource-based View (RBV)</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Resource-based View (RBV):</strong> Treats firms as bundles of resources. VRIO determines if resources support sustained advantage.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Scenario Planning</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Scenario Planning:</strong> Building a few plausible futures when uncertainty is high (vs single forecast).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Tipping Point</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Tipping Point:</strong> User base level where network effects and expectations push one platform ahead very quickly.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Value Stick</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Value Stick:</strong> Represents value creation: from Supplier Opportunity Cost (SOC) ‚Üí Cost ‚Üí Price ‚Üí Willingness to Pay (WTP).</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>VRIO</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>VRIO:</strong> Framework testing if a resource supports sustained competitive advantage. <strong>V</strong> = Valuable (exploits opportunities, neutralizes threats). <strong>R</strong> = Rare (possessed by few competitors). <strong>I</strong> = Inimitable (costly to imitate due to path dependence, causal ambiguity, or social complexity). <strong>O</strong> = Organized (firm has structure, systems, processes, and culture to capture value). Only resources passing ALL four tests yield sustained advantage. V+R but not I = temporary advantage. V only = competitive parity.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Winner-take-all (WTA)</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Winner-take-all (WTA):</strong> Market dynamic where one platform dominates after passing the tipping point.</p>
            </div>
          </div>
        </div>

        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <h4>Willingness to Pay (WTP)</h4>
              <div class="flip-hint">Click to see definition</div>
            </div>
            <div class="flip-card-back">
              <p><strong>Willingness to Pay (WTP):</strong> Maximum price a customer is willing to pay for a product/service.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ACTIVE MODULE VIEW -->
    <section id="moduleView">
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
          <div>
            <h2 id="moduleTitle" style="margin: 0;">Module</h2>
            <div class="progress" id="moduleProgress"></div>
          </div>
          <div style="display: flex; gap: 1rem; align-items: center;">
            <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); cursor: pointer;">
              <input type="checkbox" id="examModeToggle" onchange="toggleExamMode()" style="width: 18px; height: 18px; cursor: pointer;">
              <span style="font-weight: 600; font-size: 0.95rem;">üéØ Exam Mode</span>
            </label>
            <div id="timerDisplay" style="display: none; padding: 0.5rem 1rem; background: var(--danger-light); border-radius: 8px; border: 1px solid var(--danger); font-weight: 600; color: var(--danger-dark); font-size: 0.95rem;">
              ‚è±Ô∏è <span id="timer">90</span>s
            </div>
          </div>
        </div>
      </div>

      <!-- Session Intro Card -->
      <div class="card hidden" id="sessionIntroCard">
        <h3 id="sessionIntroTitle">Session title here</h3>
        <p id="sessionIntroText">Short explanation of what this session covers.</p>
      </div>

      <!-- Framework Recap -->
      <div id="frameworkRecap" class="card" style="display: none;">
        <h3 id="frameworkRecapTitle"></h3>
        <div id="frameworkRecapContent"></div>
      </div>
      <!-- Mini lesson -->
      <div class="card">
        <h3 id="lessonTitle"></h3>
        <p id="lessonText"></p>
      </div>

      <!-- Case -->
      <div class="card">
        <h3 id="caseTitle"></h3>
        <p id="caseText"></p>
      </div>

      <!-- Quiz -->
      <div class="card quiz-card">
        <div class="question-header">
          <div class="question-badge">üî• Trigger Question</div>
          <div class="question-number" id="questionNumber"></div>
        </div>
        <h3>Quiz</h3>
        <div id="questionText" class="question"></div>
        <div id="options" class="options"></div>
        <div id="feedback" class="feedback" style="display: none;"></div>
        <button id="nextBtn" class="hidden" onclick="nextQuestion()">Next Question ‚Üí</button>
      </div>
    </section>

    <!-- FLASHCARDS -->
    <section id="flashcards">
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem;">
          <div>
            <h2>üìö Flashcards ‚Äì Competitive Strategy Review</h2>
            <p style="margin-top: 0.5rem; color: var(--text-muted); font-size: 0.95rem;">
              Total: <strong id="flashcardCount">0</strong> flashcards | 
              To Review: <strong id="toReviewCount">0</strong> | 
              Answered: <strong id="answeredCount">0</strong>
            </p>
          </div>
          <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
            <button onclick="filterFlashcards('all')" id="filterAll" style="padding: 0.5rem 1rem; font-size: 0.9rem; background: var(--accent); color: white;">All</button>
            <button onclick="filterFlashcards('review')" id="filterReview" style="padding: 0.5rem 1rem; font-size: 0.9rem; background: var(--bg-card); color: var(--text-secondary); border: 1px solid rgba(0,0,0,0.1);">To Review</button>
            <button onclick="resetFlashcardProgress()" style="padding: 0.5rem 1rem; font-size: 0.9rem; background: var(--text-muted); color: white;">Reset Progress</button>
          </div>
        </div>
      </div>

      <!-- Flashcard Study View -->
      <div class="flashcard-study-container">
        <button class="flashcard-nav-btn flashcard-nav-prev" onclick="previousFlashcard()" id="prevBtn" aria-label="Previous flashcard">
          <span>‚Üê</span>
        </button>

        <div class="flashcard-study-card-wrapper">
          <div class="flashcard-study-card" id="flashcardStudyCard" onclick="flipStudyCard()">
            <div class="flashcard-study-inner">
              <div class="flashcard-study-front">
                <div class="flashcard-number" id="flashcardNumber">1 / 76</div>
                <h3 id="flashcardQuestion">Loading...</h3>
                <div class="flashcard-hint">Click to see answer</div>
              </div>
              <div class="flashcard-study-back">
                <div class="flashcard-number" id="flashcardNumberBack">1 / 76</div>
                <h3 id="flashcardAnswer">Loading...</h3>
                <div class="flashcard-actions">
                  <button class="flashcard-action-btn flashcard-good" onclick="markFlashcardAnswer('good', event)">
                    ‚úì Good Answer
                  </button>
                  <button class="flashcard-action-btn flashcard-bad" onclick="markFlashcardAnswer('bad', event)">
                    ‚úó Need Review
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <button class="flashcard-nav-btn flashcard-nav-next" onclick="nextFlashcard()" id="nextBtn" aria-label="Next flashcard">
          <span>‚Üí</span>
        </button>
      </div>

      <div class="card" style="margin-top: 2rem;">
        <p style="text-align: center; color: var(--text-muted); font-size: 0.95rem;">
          Use arrow buttons or keyboard arrows (‚Üê ‚Üí) to navigate. Click the card to flip.
        </p>
      </div>
    </section>

    <!-- SCOREBOARD -->
    <section id="scoreboard">
      <div class="card">
        <h2>Scoreboard</h2>
        <p style="font-size: 1.2rem; margin: 1rem 0;">
          Total XP: <strong style="color: var(--accent); font-size: 1.5rem;" id="xpScoreboard">0</strong>
        </p>
        <p style="margin-bottom: 1rem;">Badges unlocked:</p>
        <div class="badge-display" id="badgeList">
          <div class="badge-item empty">No badges yet ‚Äì finish a module to earn one.</div>
        </div>
      </div>
      <div class="card">
        <h3>Module Progress</h3>
        <div id="moduleProgressList"></div>
      </div>
      <div class="card">
        <h3>Reset Progress</h3>
        <p>Want to start fresh? This will clear all your XP, badges, and progress.</p>
        <button onclick="resetProgress()" style="background: var(--danger);">Reset All Progress</button>
      </div>
    </section>
  </div>

  <script>
    // ===== STATE =====
    let totalXP = 0;
    let badges = [];
    let currentModule = null;
    let currentLevelIndex = 0;
    let currentQuestionIndex = 0;
    let moduleProgress = {}; // Track progress per module
    let examMode = false;
    let examAnswers = []; // Store answers in exam mode
    let timerInterval = null;
    let timeLeft = 90;

    // ===== MODULE DEFINITIONS =====
    const modules = {
      fundamentals: {
        title: "Strategy Fundamentals & Process",
        badgeName: "Strategic Thinker",
        levels: [
          {
            lessonTitle: "Level 1 ‚Äì Strategic Management Process",
            lessonText: "Strategic management links the external environment (threats and opportunities) with internal capabilities (strengths and weaknesses) to formulate strategy. Strategy aims at achieving competitive advantage and superior performance relative to rivals. The process involves analyzing where to compete (which markets, segments, geographies) and how to compete (what unique value proposition, what activity system). Competitive advantage is measured as the difference between customers' willingness to pay (WTP) and suppliers' opportunity cost (SOC), relative to competitors.",
            caseTitle: "Case: Apple's Strategic Positioning",
            caseText: "Apple identified opportunities in premium consumer electronics and computing, leveraging its design capabilities, ecosystem integration, and brand strength. By focusing on high WTP segments and maintaining tight control over hardware-software integration, Apple achieved sustained competitive advantage and superior profitability compared to rivals in the smartphone and personal computing industries.",
            questions: [
              {
                text: "According to the strategic management process, strategy formulation requires linking:",
                options: [
                  "Only internal capabilities, ignoring the environment",
                  "Only external opportunities, ignoring internal strengths",
                  "Environment (threats & opportunities) and Capabilities (strengths & weaknesses)",
                  "Only financial metrics and accounting data"
                ],
                correctIndex: 2,
                explanation: "Strategy formulation requires analyzing both the external environment (threats and opportunities) and internal capabilities (strengths and weaknesses) to determine where and how to compete."
              },
              {
                text: "The primary goal of strategy is to achieve:",
                options: [
                  "Operational efficiency only",
                  "Competitive advantage and superior performance relative to rivals",
                  "Maximum market share regardless of profitability",
                  "Lowest possible costs in all activities"
                ],
                correctIndex: 1,
                explanation: "Strategy aims at competitive advantage and superior performance relative to rivals, not just efficiency or market share alone."
              },
              {
                text: "Competitive advantage can be measured as:",
                options: [
                  "Total revenue minus total costs",
                  "The difference between WTP and SOC, relative to competitors",
                  "Market share percentage",
                  "Number of employees"
                ],
                correctIndex: 1,
                explanation: "Competitive advantage is measured as the difference between customers' willingness to pay (WTP) and suppliers' opportunity cost (SOC), relative to rivals. A larger gap indicates stronger competitive advantage."
              }
            ]
          },
          {
            lessonTitle: "Level 2 ‚Äì Formulation vs Implementation",
            lessonText: "Strategy has two critical phases: Formulation and Implementation. Formulation answers 'where to compete' (markets, segments, geographies) and 'how to compete' (value proposition, activity system, positioning). Implementation involves executing the strategy through organizational levers: Organization structure (how work is divided and coordinated), Systems & processes (information, planning, control systems), and People & rewards (hiring, development, incentives). Strategic Leadership plays a crucial role in aligning formulation and implementation, ensuring the organization can execute the chosen strategy effectively.",
            caseTitle: "Case: Netflix's Transformation",
            caseText: "Netflix formulated a strategy to shift from DVD-by-mail to streaming, then to original content production. Implementation required restructuring the organization (new content teams, technology infrastructure), new systems (recommendation algorithms, content analytics), and different people and rewards (content creators, data scientists, new incentive structures). Leadership alignment was critical to coordinate these changes.",
            questions: [
              {
                text: "Strategy formulation primarily addresses:",
                options: [
                  "Only how to organize the company structure",
                  "Where to compete and how to compete",
                  "Only employee compensation plans",
                  "Only day-to-day operations"
                ],
                correctIndex: 1,
                explanation: "Formulation addresses where to compete (markets, segments) and how to compete (value proposition, positioning, activity system)."
              },
              {
                text: "The three main implementation levers are:",
                options: [
                  "Marketing, Sales, and Finance only",
                  "Organization structure, Systems & processes, and People & rewards",
                  "Only technology and IT systems",
                  "Only financial incentives"
                ],
                correctIndex: 1,
                explanation: "Implementation involves three key levers: Organization structure (division of work), Systems & processes (information and control), and People & rewards (talent and incentives)."
              },
              {
                text: "Strategic Leadership's role in strategy is to:",
                options: [
                  "Only formulate strategy without considering implementation",
                  "Align formulation and implementation, ensuring the organization can execute the chosen strategy",
                  "Focus only on day-to-day operations",
                  "Ignore organizational capabilities"
                ],
                correctIndex: 1,
                explanation: "Strategic Leadership must align formulation and implementation, ensuring the organization has the structure, systems, people, and culture to execute the strategy effectively."
              }
            ]
          },
          {
            lessonTitle: "Level 3 ‚Äì Strategy vs Operational Effectiveness",
            lessonText: "A critical distinction: Strategy is NOT the same as Operational Effectiveness. Strategy involves long-term, proactive positioning that creates unique value through trade-offs. It requires choosing what NOT to do, creating a distinctive activity system, and making commitments that are hard to reverse. Operational Effectiveness (OE) focuses on short-term efficiency, best practices, benchmarking, and reactive improvements. While OE is necessary, it alone does not create competitive advantage because best practices can be copied. Strategy creates sustainable advantage through unique positioning and trade-offs that competitors cannot easily replicate. A firm can be operationally effective but strategically weak if it lacks a clear, unique positioning.",
            caseTitle: "Case: Southwest Airlines vs Traditional Airlines",
            caseText: "Traditional airlines tried to be all things to all customers (full service, multiple aircraft types, hub-and-spoke, meals, seat assignments). Southwest chose a clear strategy: low-cost, point-to-point, single aircraft type, no frills. This required trade-offs: Southwest could not serve business travelers who wanted premium service and flexibility. But this strategic positioning, combined with operational effectiveness in fast turnarounds, created sustained advantage. Traditional airlines were operationally effective but strategically 'stuck in the middle' without clear positioning.",
            questions: [
              {
                text: "Strategy differs from Operational Effectiveness primarily because:",
                options: [
                  "Strategy is about short-term efficiency only",
                  "Strategy involves long-term, proactive positioning with unique value and trade-offs, while OE focuses on efficiency and best practices",
                  "They are exactly the same thing",
                  "Strategy ignores efficiency completely"
                ],
                correctIndex: 1,
                explanation: "Strategy is long-term, proactive, and involves unique positioning with trade-offs. Operational Effectiveness is about efficiency and best practices that can be copied."
              },
              {
                text: "Why does Operational Effectiveness alone not create sustained competitive advantage?",
                options: [
                  "Because it is always expensive",
                  "Because best practices can be copied by competitors, eliminating the advantage",
                  "Because it requires no trade-offs",
                  "Because it focuses only on cost reduction"
                ],
                correctIndex: 1,
                explanation: "Best practices in operational effectiveness can be imitated by competitors, so they create temporary advantages at best. Strategy creates sustainable advantage through unique positioning and trade-offs."
              },
              {
                text: "A firm that tries to serve all customer segments with all features, matching competitors on every dimension, is most likely:",
                options: [
                  "Following a clear differentiation strategy",
                  "Following a clear cost leadership strategy",
                  "Lacking strategic positioning and likely 'stuck in the middle'",
                  "Creating unique value through trade-offs"
                ],
                correctIndex: 2,
                explanation: "Trying to be everything to everyone without clear trade-offs typically results in being 'stuck in the middle' - lacking clear strategic positioning and unable to achieve superior performance."
              }
            ]
          }
        ]
      },
      macro: {
        title: "Macro & Trends ‚Äì PESTEL and Scenarios",
        badgeName: "Trend Watcher",
        levels: [
          {
            lessonTitle: "Level 1 ‚Äì Reading the Macroenvironment with PESTEL",
            lessonText: "Macroenvironment analysis scans Political, Economic, Sociocultural, Technological, Environmental and Legal forces around the firm. The main purpose of PESTEL analysis is to identify Key Drivers of Change - the most important trends and forces that will shape industries and markets. These key drivers then feed into scenario planning and deeper strategic analysis. PESTEL is not just a checklist; it's a tool to systematically scan the environment and identify which forces matter most for strategy. Key drivers are those PESTEL forces that are: (1) Uncertain (could evolve in different ways), (2) Impactful (will significantly affect the industry), (3) Relevant (matter for the firm's strategy).",
            caseTitle: "Case: Tesla and the EU 2035 Ban on New ICE Cars",
            caseText: "In the EU, new CO2-emitting petrol and diesel cars are scheduled to be phased out from 2035. This regulatory change pushes carmakers towards electric vehicles and reshapes investment decisions for incumbents and EV players like Tesla.",
            questions: [
              {
                text: "The EU decision to phase out new petrol and diesel cars from 2035 is mainly a change in which PESTEL dimensions?",
                options: [
                  "Technological only",
                  "Environmental and Legal/Regulatory",
                  "Micro-environment (competitors only)",
                  "Firm's internal capabilities"
                ],
                correctIndex: 1,
                explanation: "It is an Environmental and Legal/Regulatory shift in the macroenvironment that affects all firms in the sector."
              },
              {
                text: "According to the course, what is the main purpose of doing a PESTEL exercise before deeper analysis?",
                options: [
                  "To forecast exact future prices and profits",
                  "To scan the macroenvironment and identify key drivers of change",
                  "To list all competitors in detail",
                  "To design the organization chart"
                ],
                correctIndex: 1,
                explanation: "PESTEL scans the environment and helps you identify the major trends or key drivers of change that will later feed into scenarios and strategy."
              }
            ]
          },
          {
            lessonTitle: "Level 2 ‚Äì Stakeholders and Macro Shocks",
            lessonText: "Macro-level changes often arrive through regulation, social movements or technological shifts and then transmit through stakeholders. Stakeholder Analysis is a systematic tool to identify and understand the interests, power, and influence of groups that affect or are affected by the firm's strategy. Key stakeholders include customers, employees, suppliers, regulators, NGOs, media, communities, and investors. Macro PESTEL forces translate into stakeholder pressures: for example, environmental regulations (E) create pressure from regulators and NGOs, while sociocultural trends (S) influence customer expectations and employee values. A critical insight is coalition effects: stakeholders can form alliances that amplify pressure (e.g., 'the enemy of my enemy is my friend' - NGOs + media + regulators can ally to multiply pressure on firms). Understanding these coalitions is essential for strategic adaptation.",
            caseTitle: "Case: Glovo and Spain's Rider Law",
            caseText: "In Spain, the 'Rider Law' pushed platforms like Glovo to classify many couriers as employees rather than freelancers. This legal change (Political/Legal PESTEL dimension) affected multiple stakeholders: workers (gained employment rights but lost flexibility), regulators (enforcing labor law), customers (concerned about service reliability and fairness), and investors (worried about cost increases). NGOs and labor unions formed a coalition with media coverage, amplifying pressure on platforms. Glovo had to adapt its business model while managing these competing stakeholder interests.",
            questions: [
              {
                text: "Stakeholder Analysis is best defined as:",
                options: [
                  "A tool to identify only shareholders and investors",
                  "A systematic approach to identify and understand the interests, power, and influence of groups that affect or are affected by the firm's strategy",
                  "Only analyzing customer preferences",
                  "A financial analysis tool"
                ],
                correctIndex: 1,
                explanation: "Stakeholder Analysis systematically maps who gains, who loses, whose support is needed, and how stakeholders' interests and power interact."
              },
              {
                text: "How do macro PESTEL forces translate into stakeholder pressures?",
                options: [
                  "PESTEL forces are completely separate from stakeholders",
                  "PESTEL forces manifest through stakeholder actions and expectations (e.g., environmental regulations create pressure from regulators and NGOs)",
                  "Only through financial markets",
                  "Only through internal employees"
                ],
                correctIndex: 1,
                explanation: "PESTEL forces translate into stakeholder pressures: environmental regulations (E) create pressure from regulators and NGOs, sociocultural trends (S) influence customers and employees, technological changes (T) affect suppliers and competitors."
              },
              {
                text: "The 'enemy of my enemy is my friend' dynamic in stakeholder analysis refers to:",
                options: [
                  "Stakeholders always having aligned interests",
                  "Stakeholders forming coalitions (e.g., NGOs + media + regulators) that amplify pressure on the firm",
                  "All stakeholders being independent and static",
                  "Only shareholders and employees working together"
                ],
                correctIndex: 1,
                explanation: "Stakeholders can form coalitions that multiply their influence. For example, NGOs, media, and regulators can ally to create stronger pressure than any single group could achieve alone."
              },
              {
                text: "When Glovo has to adapt to the Rider Law, which stakeholder groups become especially important in the analysis?",
                options: [
                  "Only shareholders",
                  "Only app developers",
                  "Workers, regulators, customers, NGOs, and investors - all with potentially conflicting interests",
                  "Only foreign competitors"
                ],
                correctIndex: 2,
                explanation: "Stakeholder analysis must consider all affected groups: workers (rights vs flexibility), regulators (enforcement), customers (service quality), NGOs (social justice), and investors (profitability)."
              }
            ]
          },
          {
            lessonTitle: "Level 3 ‚Äì Dealing with Uncertainty: Scenario Planning",
            lessonText: "Some trends are more predictable (e.g., ageing populations, urbanization) while others are highly uncertain (e.g., oil prices, regulatory changes, technological breakthroughs). Scenario Planning is the tool for dealing with high uncertainty and multiple plausible futures. It is used when there is high uncertainty about how key drivers of change will evolve. The process involves: (1) Identifying key drivers of change from PESTEL analysis - the 2-4 most important uncertain variables that will shape the future, (2) Building 2-3 coherent scenarios - plausible, internally consistent futures that explore different combinations of how key drivers might evolve, (3) Testing strategies across scenarios - ensuring the strategy is robust (works reasonably well) or flexible (can adapt) across different futures. Scenarios are not predictions; they are tools to think through uncertainty and prepare for different possible futures.",
            caseTitle: "Case: Electric Vehicles and Uncertain Climate Policy",
            caseText: "For carmakers and energy companies, the future of EV adoption and climate regulation is highly uncertain. Key drivers include: regulatory stringency (strict bans vs gradual transition), infrastructure support (government investment in charging networks), battery technology costs, and consumer adoption rates. Scenarios might include: (1) 'Green Acceleration' - strict regulations, strong infrastructure support, rapid adoption, (2) 'Gradual Transition' - moderate regulations, mixed infrastructure, slower adoption, (3) 'Policy Reversal' - relaxed regulations, weak infrastructure, slow adoption. Strategy must be robust across these scenarios - for example, investing in EV capabilities while maintaining flexibility to adapt if scenarios change.",
            questions: [
              {
                text: "Scenario Planning is the tool for:",
                options: [
                  "Predicting the exact future with certainty",
                  "Dealing with high uncertainty and multiple plausible futures",
                  "Analyzing only current competitors",
                  "Forecasting quarterly earnings"
                ],
                correctIndex: 1,
                explanation: "Scenario Planning is specifically designed for situations with high uncertainty where multiple plausible futures exist, not for precise predictions."
              },
              {
                text: "The first step in scenario planning is to:",
                options: [
                  "Build detailed financial models",
                  "Identify key drivers of change from PESTEL analysis - the 2-4 most important uncertain variables",
                  "Copy competitors' strategies",
                  "Ignore macro trends"
                ],
                correctIndex: 1,
                explanation: "Scenario planning starts by identifying key drivers of change - the most important uncertain variables that will shape different futures. These come from PESTEL analysis."
              },
              {
                text: "Scenarios should be:",
                options: [
                  "Predictions of the exact future",
                  "Coherent, plausible, internally consistent futures that explore different combinations of how key drivers might evolve",
                  "Random guesses about the future",
                  "Only optimistic forecasts"
                ],
                correctIndex: 1,
                explanation: "Scenarios must be coherent (internally consistent), plausible (realistic), and explore different combinations of how key drivers might evolve."
              },
              {
                text: "For the EV and climate policy example, which of the following is most likely a key driver of change in a scenario exercise?",
                options: [
                  "The exact color of car interiors",
                  "Regulatory stringency on CO2 emissions and support for charging infrastructure",
                  "How many employees the firm has this year",
                  "The number of different coffee brands in the office"
                ],
                correctIndex: 1,
                explanation: "Regulatory stringency and infrastructure support are macro drivers that strongly influence EV adoption, industry structure, and competitive dynamics - making them ideal key drivers for scenarios."
              },
              {
                text: "After building scenarios, the next step is to:",
                options: [
                  "Ignore them and proceed with a single strategy",
                  "Test strategies across scenarios to ensure robustness or flexibility",
                  "Only focus on the most optimistic scenario",
                  "Wait for the future to happen"
                ],
                correctIndex: 1,
                explanation: "Scenarios are tools for strategic thinking. After building them, you test your strategy across scenarios to see if it's robust (works in multiple futures) or if it needs to be flexible (adaptable)."
              }
            ]
          }
        ]
      },
      industry: {
        title: "Industry Battles ‚Äì Porter's 5 Forces",
        badgeName: "Industry Analyst",
        levels: [
          {
            lessonTitle: "Level 1 ‚Äì Airlines",
            lessonText: "Industry analysis with Porter's 5 Forces focuses on rivalry, threat of entry, substitutes and complements, buyer power and supplier power. Airlines in many markets face intense rivalry, powerful buyers who can compare prices easily, and high fixed costs.",
            caseTitle: "Case: Southwest Airlines",
            caseText: "Southwest built a low-cost model with point-to-point routes, secondary airports and a single aircraft type. By removing meals, seat assignments and many frills, it simplified operations and kept costs far below traditional airlines.",
            questions: [
              {
                text: "In the traditional airline industry, which force is usually very strong and hurts profitability?",
                options: [
                  "Bargaining power of buyers",
                  "Threat of substitutes is zero",
                  "No rivalry at all",
                  "Supplier power is irrelevant"
                ],
                correctIndex: 0,
                explanation: "Buyers can compare prices across airlines and products are similar, so buyer power is strong and squeezes margins."
              },
              {
                text: "Southwest's model completely escapes the 5 Forces and makes industry structure irrelevant.",
                options: [
                  "True ‚Äì 5 Forces no longer matter",
                  "False ‚Äì structure still matters, but Southwest positions itself smartly within it"
                ],
                correctIndex: 1,
                explanation: "Southwest cannot erase the 5 Forces, but its activity system helps it be more profitable than typical airlines in a tough industry."
              }
            ]
          },
          {
            lessonTitle: "Level 2 ‚Äì Streaming Wars",
            lessonText: "In streaming, rivalry is intense (many platforms), substitutes are strong (YouTube, TikTok, games), and entry barriers depend on technology and content access. Industry analysis explains where average profitability comes from before we look at firm differences.",
            caseTitle: "Case: Netflix's Pivot to Streaming",
            caseText: "Netflix moved from DVD-by-mail to streaming and then to producing its own content. This reduced dependence on traditional studios, allowed differentiation through exclusive shows, and changed the balance of power in the value chain.",
            questions: [
              {
                text: "When Netflix invests heavily in its own original content, which force is it mainly trying to influence?",
                options: [
                  "Supplier power (studios and content owners)",
                  "Threat of new entrants only",
                  "Buyer power has no role here",
                  "Threat of substitutes disappears"
                ],
                correctIndex: 0,
                explanation: "Producing its own shows reduces dependence on external content suppliers and lowers their bargaining power."
              },
              {
                text: "Netflix's transition from DVDs to streaming is best seen as:",
                options: [
                  "A small marketing campaign",
                  "A dynamic capability: sensing digital change and reconfiguring resources and the business model",
                  "Only a cost-cutting move",
                  "Just a change of logo and colors"
                ],
                correctIndex: 1,
                explanation: "It is a dynamic capability example: sensing an opportunity, seizing it, and reconfiguring activities around streaming."
              }
            ]
          },
          {
            lessonTitle: "Level 3 ‚Äì Blue Ocean Strategy: Yellow Tail and Value Innovation",
            lessonText: "Blue Ocean Strategy creates new market space by changing the value curve through the ERRC Grid: Eliminate (factors the industry takes for granted), Reduce (factors below industry standard), Raise (factors above industry standard), Create (factors the industry has never offered). Yellow Tail targeted Three Tiers of Non-Customers: (1) Soon-to-be non-customers (on the edge of the market, ready to leave), (2) Refusing non-customers (who consciously choose alternatives), (3) Unexplored non-customers (distant markets). Blue Ocean emphasizes simultaneous pursuit of differentiation AND low cost - not choosing between them, but breaking the value-cost trade-off. This is different from competing in 'Red Oceans' (crowded, bloody competition) where firms fight over existing demand.",
            caseTitle: "Case: Yellow Tail Wine",
            caseText: "Yellow Tail used ERRC: Eliminated (complex wine terminology, aging qualities, vineyard prestige), Reduced (wine range, price above budget wines), Raised (ease of selection, fun and adventure, simplicity), Created (easy drinking, social fun). It targeted non-customers: beer drinkers and casual consumers intimidated by traditional wine. By simultaneously lowering cost (simplified production, fun branding vs expensive prestige) and raising WTP for non-customers (approachable, fun), Yellow Tail created a Blue Ocean. This broke the trade-off - it wasn't just low-cost OR differentiated, but both for a new customer segment.",
            questions: [
              {
                text: "The ERRC Grid in Blue Ocean Strategy stands for:",
                options: [
                  "Only Eliminate and Reduce",
                  "Eliminate, Reduce, Raise, Create - four actions to reconstruct the value curve",
                  "Only Raise and Create",
                  "A financial analysis tool"
                ],
                correctIndex: 1,
                explanation: "ERRC: Eliminate (unnecessary factors), Reduce (below industry standard), Raise (above industry standard), Create (new factors never offered)."
              },
              {
                text: "The Three Tiers of Non-Customers include:",
                options: [
                  "Only current customers",
                  "Soon-to-be non-customers (on the edge), Refusing non-customers (choosing alternatives), and Unexplored non-customers (distant markets)",
                  "Only competitors",
                  "Only suppliers"
                ],
                correctIndex: 1,
                explanation: "Three Tiers: (1) Soon-to-be (ready to leave), (2) Refusing (consciously choose alternatives), (3) Unexplored (distant markets)."
              },
              {
                text: "Blue Ocean Strategy emphasizes:",
                options: [
                  "Choosing between low cost OR differentiation",
                  "Simultaneous pursuit of differentiation AND low cost, breaking the value-cost trade-off",
                  "Only competing in existing markets",
                  "Only following industry best practices"
                ],
                correctIndex: 1,
                explanation: "Blue Ocean breaks the trade-off by simultaneously pursuing differentiation and low cost for new customer segments, creating uncontested market space."
              },
              {
                text: "Compared to traditional wineries, Yellow Tail mainly:",
                options: [
                  "Increased product complexity and used traditional French labels",
                  "Competed head-to-head on exactly the same factors",
                  "Created a new strategic space by changing which factors it competes on (ERRC)",
                  "Only cut costs without changing the offer"
                ],
                correctIndex: 2,
                explanation: "Yellow Tail used ERRC to change the value curve, creating a Blue Ocean by targeting non-customers with a new value proposition."
              },
              {
                text: "Yellow Tail's primary target customers were:",
                options: [
                  "Only expert wine drinkers and sommeliers",
                  "Non-customers: beer drinkers and casual wine consumers who were intimidated by traditional wine",
                  "Only ultra-premium collectors",
                  "Only business travellers"
                ],
                correctIndex: 1,
                explanation: "Yellow Tail targeted non-customers (beer drinkers, casual consumers) who found traditional wine intimidating, creating new demand."
              }
            ]
          },
          {
            lessonTitle: "Level 4 ‚Äì Competitive Dynamics: Strategic Groups and Key Success Factors",
            lessonText: "Within industries, firms can be grouped into Strategic Groups - clusters of firms following similar strategies along strategic dimensions (innovation intensity, economies of scale, scope, vertical integration, geographic scope, etc.). Mobility Barriers are factors that make it difficult to move from one strategic group to another (e.g., switching costs, different capabilities needed, different cost structures). Understanding strategic groups helps identify: (1) who your closest competitors are (same group), (2) potential threats from other groups, (3) opportunities to move between groups. Key Success Factors (KSFs) are the factors that determine profitability in an industry. They originate from BOTH demand side (what customers value, expect, need) AND supply side (what competitors can deliver, industry constraints, cost drivers). KSFs are not just customer preferences - they reflect the intersection of customer needs and competitive realities. Identifying KSFs helps focus strategy on what truly matters for competitive success.",
            caseTitle: "Case: Strategic Groups in Airlines and KSFs in Streaming",
            caseText: "Airlines: Strategic groups include (1) Full-service network carriers (hub-and-spoke, multiple aircraft, premium service), (2) Low-cost carriers (point-to-point, single aircraft, no frills), (3) Regional carriers. Mobility barriers: Full-service carriers would struggle to become low-cost (different cost structures, culture, systems). Streaming: KSFs include content library (demand: customers want variety), recommendation algorithms (demand: discovery, supply: data advantage), original content (demand: exclusivity, supply: differentiation barrier), scale (supply: cost efficiency). These KSFs come from both what customers value AND what creates competitive advantage.",
            questions: [
              {
                text: "Strategic Groups are:",
                options: [
                  "All firms in an industry competing identically",
                  "Clusters of firms following similar strategies along strategic dimensions (innovation, scale, integration, etc.)",
                  "Only geographic regions",
                  "Only suppliers"
                ],
                correctIndex: 1,
                explanation: "Strategic Groups are clusters of firms with similar strategies along dimensions like innovation, scale, vertical integration, geographic scope."
              },
              {
                text: "Mobility Barriers are:",
                options: [
                  "Factors that make it easy to move between strategic groups",
                  "Factors that make it difficult to move from one strategic group to another",
                  "Only financial barriers",
                  "Only customer preferences"
                ],
                correctIndex: 1,
                explanation: "Mobility Barriers (e.g., different capabilities, cost structures, switching costs) make it hard to move between strategic groups."
              },
              {
                text: "Key Success Factors (KSFs) originate from:",
                options: [
                  "Only demand side (customer preferences)",
                  "Only supply side (competitor capabilities)",
                  "BOTH demand side (what customers value/need) AND supply side (what competitors can deliver, industry constraints)",
                  "Only financial metrics"
                ],
                correctIndex: 2,
                explanation: "KSFs come from both demand (customer expectations, needs) and supply (competitive realities, industry constraints, cost drivers)."
              },
              {
                text: "Strategic dimensions that define groups might include:",
                options: [
                  "Only company size",
                  "Innovation intensity, economies of scale, scope, vertical integration, geographic scope",
                  "Only employee count",
                  "Only current profitability"
                ],
                correctIndex: 1,
                explanation: "Strategic dimensions include innovation, scale, scope, vertical integration, geographic scope - factors that define how firms compete."
              },
              {
                text: "Understanding strategic groups helps identify:",
                options: [
                  "Only total industry size",
                  "Closest competitors (same group), threats from other groups, and opportunities to move between groups",
                  "Only customer preferences",
                  "Only supplier power"
                ],
                correctIndex: 1,
                explanation: "Strategic groups help identify who your closest competitors are, potential threats from other groups, and strategic opportunities."
              }
            ]
          }
        ]
      },
      firm: {
        title: "Firm Strategy ‚Äì Value Stick, Generic Strategies & VRIO",
        badgeName: "Strategy Architect",
        levels: [
          {
            lessonTitle: "Level 1 ‚Äì Value Stick and Generic Competitive Strategies",
            lessonText: "The Value Stick visualizes value creation and distribution: SOC (Suppliers' Opportunity Cost) ‚Üí Cost ‚Üí Price ‚Üí WTP (Willingness to Pay). The total value created is the gap between WTP and SOC. Competitive advantage comes from creating a larger gap than rivals and capturing a greater share. Cost Leadership strategy primarily lowers SOC/Cost while maintaining acceptable WTP, widening the firm's margin (Price - Cost). Differentiation strategy primarily raises WTP even if cost is slightly higher, increasing consumer surplus and allowing premium pricing. Both can create competitive advantage, but they require different activity systems and trade-offs. Porter warns strongly against being 'Stuck in the Middle' - trying to pursue both without clear positioning, resulting in no competitive advantage. However, hybrid strategies can work when: (1) separate business units pursue different strategies, or (2) major technological/managerial innovation shifts the efficiency frontier, allowing simultaneous cost reduction and differentiation.",
            caseTitle: "Case: Cost Leadership vs Differentiation vs Hybrid",
            caseText: "Southwest Airlines (Cost Leadership): Lowers cost through no frills, standardized fleet, fast turnarounds, while keeping WTP acceptable for price-sensitive travelers. Apple (Differentiation): Raises WTP through design, ecosystem, brand, accepting higher costs but commanding premium prices. IKEA (Hybrid): Through innovative flat-pack design and self-assembly, IKEA simultaneously lowered costs (efficient logistics, customer labor) and raised WTP (modern design, shopping experience) - a hybrid enabled by innovation that shifted the frontier.",
            questions: [
              {
                text: "The Value Stick shows the flow:",
                options: [
                  "WTP ‚Üí Price ‚Üí Cost ‚Üí SOC",
                  "SOC ‚Üí Cost ‚Üí Price ‚Üí WTP",
                  "Price ‚Üí Cost ‚Üí WTP ‚Üí SOC",
                  "Only WTP and Price matter"
                ],
                correctIndex: 1,
                explanation: "The Value Stick flows from SOC (Suppliers' Opportunity Cost) to Cost to Price to WTP (Willingness to Pay), showing how value is created and distributed."
              },
              {
                text: "Cost Leadership strategy primarily:",
                options: [
                  "Raises WTP while ignoring costs",
                  "Lowers SOC/Cost while maintaining acceptable WTP, widening the firm's margin",
                  "Only focuses on marketing",
                  "Eliminates all suppliers"
                ],
                correctIndex: 1,
                explanation: "Cost Leadership lowers cost (and often SOC) while keeping WTP acceptable, increasing the margin between Price and Cost."
              },
              {
                text: "Differentiation strategy primarily:",
                options: [
                  "Only cuts costs",
                  "Raises WTP even if cost is slightly higher, allowing premium pricing",
                  "Ignores customer preferences",
                  "Focuses only on operational efficiency"
                ],
                correctIndex: 1,
                explanation: "Differentiation raises WTP through unique value (design, quality, brand, features), allowing higher prices even with higher costs."
              },
              {
                text: "Porter's 'Stuck in the Middle' warning refers to:",
                options: [
                  "Firms that successfully pursue both cost leadership and differentiation",
                  "Firms that try to pursue both strategies without clear positioning, resulting in no competitive advantage",
                  "Firms with a clear focus strategy",
                  "Firms that innovate the efficiency frontier"
                ],
                correctIndex: 1,
                explanation: "Being 'stuck in the middle' means trying to be both low-cost and differentiated without clear positioning, typically resulting in inferior performance."
              },
              {
                text: "Hybrid strategies (simultaneous cost reduction and differentiation) can work when:",
                options: [
                  "Always - there's no trade-off",
                  "When separate business units pursue different strategies, or when major innovation shifts the efficiency frontier",
                  "Never - Porter's warning is absolute",
                  "Only for small firms"
                ],
                correctIndex: 1,
                explanation: "Hybrid strategies can succeed when innovation shifts the frontier (e.g., IKEA's flat-pack) or when different business units pursue different strategies."
              },
              {
                text: "If a firm lowers its unit cost while keeping WTP and price roughly constant, which part of the value stick mainly changes?",
                options: [
                  "Consumer surplus shrinks",
                  "The firm's margin (price ‚Äì cost) widens",
                  "Suppliers capture much more value",
                  "The total gap between WTP and SOC disappears"
                ],
                correctIndex: 1,
                explanation: "Lower cost at the same price increases the firm's margin between price and cost ‚Äì a classic cost leadership move."
              }
            ]
          },
          {
            lessonTitle: "Level 2 ‚Äì VRIO Framework and Core Competences",
            lessonText: "The Resource-based View (RBV) treats firms as heterogeneous bundles of resources and capabilities. The VRIO framework tests whether a resource can support sustained competitive advantage. V = Valuable (exploits opportunities, neutralizes threats), R = Rare (possessed by few competitors), I = Inimitable (costly to imitate due to path dependence, causal ambiguity, or social complexity), O = Organized (firm has structure, systems, processes, and culture to capture value). Only resources that pass ALL four tests (V+R+I+O) yield sustained competitive advantage. If V+R but not I, advantage is temporary (competitors will imitate). If V only, result is competitive parity. Resources are inimitable when they involve: path dependence (historical accumulation), causal ambiguity (unclear how they create value), or social complexity (culture, relationships). Core Competences are collective learning that integrates multiple technologies and production skills - they are not just any capability, but deeply embedded organizational knowledge that enables the firm to access diverse markets and create value across products.",
            caseTitle: "Case: Netflix's Recommendation Algorithm and 3M's Innovation Culture",
            caseText: "Netflix's recommendation algorithm is Valuable (improves user experience), Rare (few have similar scale of data), Inimitable (path-dependent - built over years with millions of users, causally ambiguous - exact combination of factors unclear), and Organized (Netflix's structure and culture support data-driven decisions). 3M's innovation culture (15% time, tolerance for failure) is a Core Competence - collective learning that integrates R&D, experimentation, and market sensing across diverse product lines, enabling 3M to innovate in multiple industries.",
            questions: [
              {
                text: "For a resource to yield sustained competitive advantage, it must be:",
                options: [
                  "Valuable only",
                  "Valuable and Rare only",
                  "Valuable, Rare, Inimitable, AND Organized (pass all four VRIO tests)",
                  "Only Organized, regardless of value"
                ],
                correctIndex: 2,
                explanation: "Only resources that pass ALL four VRIO tests yield sustained competitive advantage. Missing any test reduces the advantage."
              },
              {
                text: "If a resource is Valuable and Rare but NOT Inimitable, it will likely lead to:",
                options: [
                  "Sustained competitive advantage",
                  "Temporary competitive advantage (competitors will eventually imitate)",
                  "Competitive parity",
                  "Competitive disadvantage"
                ],
                correctIndex: 1,
                explanation: "V+R without I means competitors can imitate, so the advantage is temporary, not sustained."
              },
              {
                text: "Resources are inimitable when they involve:",
                options: [
                  "Only financial resources",
                  "Path dependence, causal ambiguity, or social complexity",
                  "Only tangible assets",
                  "Only current market share"
                ],
                correctIndex: 1,
                explanation: "Inimitability comes from path dependence (historical accumulation), causal ambiguity (unclear value creation), or social complexity (culture, relationships)."
              },
              {
                text: "Core Competences are best defined as:",
                options: [
                  "Any capability the firm has",
                  "Collective learning that integrates multiple technologies and production skills, enabling access to diverse markets",
                  "Only financial resources",
                  "Only current products"
                ],
                correctIndex: 1,
                explanation: "Core Competences are deeply embedded organizational knowledge that integrates multiple skills and technologies, enabling value creation across diverse markets and products."
              },
              {
                text: "A resource that is Valuable but not Rare is most likely to lead to:",
                options: [
                  "Sustained competitive advantage",
                  "Competitive disadvantage",
                  "Competitive parity (no long-run advantage)",
                  "Guaranteed monopoly"
                ],
                correctIndex: 2,
                explanation: "If everyone has it, it may be necessary to compete but it will typically only lead to parity, not sustained advantage."
              }
            ]
          },
          {
            lessonTitle: "Level 3 ‚Äì Dynamic Capabilities: Sensing, Seizing, Reconfiguring",
            lessonText: "Static resources are not enough in a changing environment. Dynamic Capabilities are the firm's abilities to sense opportunities and threats, seize them, and reconfigure resources and activities over time. The model has three components: (1) Sensing - systematically scanning and interpreting weak signals in the environment (new technologies, changing customer habits, regulatory shifts), (2) Seizing - committing resources and making investments to capture opportunities identified through sensing, (3) Reconfiguring - transforming the asset base, activity system, and organizational structure to align with new strategic directions. These capabilities are themselves VRIO resources - they are valuable, rare, and hard to imitate because they involve organizational learning and routines built over time.",
            caseTitle: "Case: Netflix vs Blockbuster",
            caseText: "Netflix demonstrated strong dynamic capabilities: Sensing - identified the shift towards broadband and on-demand viewing early, Seizing - invested heavily in streaming infrastructure and content, Reconfiguring - transformed from DVD-by-mail to streaming platform, then to original content producer. Blockbuster had weaker dynamic capabilities: slower to sense the shift, hesitant to seize (rejected acquisition of Netflix), and failed to reconfigure away from store-based model. This difference in dynamic capabilities explains why Netflix thrived while Blockbuster declined.",
            questions: [
              {
                text: "The three components of Dynamic Capabilities are:",
                options: [
                  "Buy, Build, and Outsource",
                  "Sensing, Seizing, and Reconfiguring",
                  "Valuable, Rare, and Inimitable",
                  "Cost, Price, and WTP"
                ],
                correctIndex: 1,
                explanation: "Dynamic Capabilities consist of Sensing (identifying opportunities/threats), Seizing (committing resources), and Reconfiguring (transforming assets and activities)."
              },
              {
                text: "When a firm systematically scans for weak signals (e.g. new technologies, changing customer habits), this mainly relates to which dynamic capability?",
                options: [
                  "Sensing",
                  "Seizing",
                  "Reconfiguring",
                  "None ‚Äì this is just accounting"
                ],
                correctIndex: 0,
                explanation: "Sensing is about identifying and interpreting opportunities and threats in the environment through systematic scanning."
              },
              {
                text: "In the Netflix example, closing most DVD operations and reorganizing around streaming infrastructure is mainly an example of:",
                options: [
                  "Sensing only",
                  "Seizing only",
                  "Reconfiguring resources and activities",
                  "A pure industry-level effect with no firm action"
                ],
                correctIndex: 2,
                explanation: "Reconfiguring is about changing the asset base and activity system to align with the new strategy (here, streaming)."
              },
              {
                text: "Dynamic Capabilities themselves can be:",
                options: [
                  "Only tangible resources",
                  "VRIO resources - valuable, rare, and hard to imitate because they involve organizational learning",
                  "Easily copied from competitors",
                  "Only financial assets"
                ],
                correctIndex: 1,
                explanation: "Dynamic Capabilities are themselves strategic resources that can be VRIO - they involve organizational learning, routines, and culture that are hard to imitate."
              }
            ]
          },
          {
            lessonTitle: "Level 4 ‚Äì Developing Resources & Capabilities: Buy vs Build",
            lessonText: "Firms can develop resources and capabilities through two main paths: Buy (acquiring on Strategic Factor Markets) or Build (internal development through Asset Stock Accumulation). Buy involves acquiring resources on markets where they are traded. Key considerations: Superior expectations about future value (if you value a resource more than others, you can acquire it below its true value), but risk of Winner's Curse (overpaying if you overestimate value). Build involves internal development over time. Key mechanisms: Time compression diseconomies (rushing development is costly - some capabilities take time), Asset mass efficiencies (existing stocks make further accumulation easier), Interconnectedness (capabilities are linked - building one helps build others). The choice depends on: urgency, imitability of what you need, whether markets exist, and whether the capability requires firm-specific learning.",
            caseTitle: "Case: Google's AI Capabilities and Tesla's Battery Development",
            caseText: "Google (Build): Developed AI capabilities internally over years - DeepMind acquisition was strategic, but core AI talent and culture were built through time compression (patient investment), asset mass (existing data and infrastructure), and interconnectedness (AI linked to search, cloud, hardware). Tesla (Hybrid): Initially bought battery technology and suppliers, but then built internal Gigafactory capabilities - the manufacturing know-how and scale required firm-specific learning that couldn't be fully bought. The choice reflected urgency (needed batteries quickly) vs long-term capability building (manufacturing excellence).",
            questions: [
              {
                text: "The two main paths to develop resources and capabilities are:",
                options: [
                  "Only buying from competitors",
                  "Buy (acquiring on Strategic Factor Markets) and Build (internal development through Asset Stock Accumulation)",
                  "Only building internally",
                  "Only outsourcing"
                ],
                correctIndex: 1,
                explanation: "Firms can Buy (acquire resources on markets) or Build (develop internally through accumulation over time)."
              },
              {
                text: "A key risk of Buying resources on Strategic Factor Markets is:",
                options: [
                  "Winner's Curse - overpaying if you overestimate the resource's value",
                  "That resources are always free",
                  "That you can never buy valuable resources",
                  "That buying is always cheaper than building"
                ],
                correctIndex: 0,
                explanation: "Winner's Curse occurs when you overestimate a resource's value and overpay for it, especially in competitive auctions."
              },
              {
                text: "Time compression diseconomies in Building capabilities means:",
                options: [
                  "Rushing development is always free",
                  "Rushing capability development is costly - some capabilities require time to develop properly",
                  "All capabilities can be built instantly",
                  "Time doesn't matter for capability building"
                ],
                correctIndex: 1,
                explanation: "Time compression diseconomies mean that trying to rush capability development is expensive - some organizational learning and routines take time to develop."
              },
              {
                text: "Asset mass efficiencies refer to:",
                options: [
                  "That existing capability stocks make further accumulation easier and more efficient",
                  "That you must start from zero every time",
                  "That capabilities are independent and unrelated",
                  "That building capabilities gets harder over time"
                ],
                correctIndex: 0,
                explanation: "Asset mass efficiencies mean that having existing stocks of a capability (e.g., R&D experience, data) makes it easier and more efficient to build more of that capability."
              },
              {
                text: "A firm should choose Build over Buy when:",
                options: [
                  "The capability is always available on markets at low cost",
                  "The capability requires firm-specific learning, interconnectedness with existing capabilities, or markets don't exist",
                  "There's extreme urgency and no time to build",
                  "The capability is completely generic and unrelated to the firm"
                ],
                correctIndex: 1,
                explanation: "Build makes sense when capabilities require firm-specific learning, are interconnected with existing capabilities, or when markets for those capabilities don't exist or are inefficient."
              }
            ]
          },
          {
            lessonTitle: "Level 5 ‚Äì Value Chain Analysis: Industry vs Company",
            lessonText: "Value Chain Analysis distinguishes between Industry Value Chain and Company Value Chain. Industry Value Chain maps the sequence of activities from raw materials to end customers across the entire industry (e.g., mining ‚Üí refining ‚Üí manufacturing ‚Üí distribution ‚Üí retail ‚Üí customers). It's used to: (1) Analyze profit pools - where value and profits are captured in the chain, (2) Decide on vertical integration - should we own more links?, (3) Identify opportunities to bypass links or create new ones. Company Value Chain identifies a firm's internal activities: Primary activities (inbound logistics, operations, outbound logistics, marketing & sales, service) and Support activities (procurement, technology, HR, firm infrastructure). It's used to: (1) Identify core activities that should NOT be outsourced (strategic, VRIO resources), (2) Identify support activities that can be outsourced, (3) Understand cost drivers and value creation. Core activities are those that are strategic, hard to imitate, and central to competitive advantage - these should typically be kept in-house.",
            caseTitle: "Case: Tesla's Value Chain Decisions",
            caseText: "Industry Value Chain (EVs): Battery materials ‚Üí Battery cells ‚Üí Battery packs ‚Üí Vehicle assembly ‚Üí Sales & Service ‚Üí Customers. Tesla analyzed profit pools and decided to vertically integrate into battery production (Gigafactories) to capture more value and reduce dependence. Company Value Chain: Tesla's core activities include battery technology (VRIO - valuable, rare, inimitable), vehicle design, and software/AI (autopilot). These are core and kept in-house. Support activities like some manufacturing components can be outsourced. Tesla's vertical integration decision was based on industry value chain analysis (profit pools, control) and company value chain analysis (core vs support activities).",
            questions: [
              {
                text: "Industry Value Chain is used to:",
                options: [
                  "Only analyze a single firm's internal activities",
                  "Map activities across the entire industry (raw materials to customers), analyze profit pools, and decide on vertical integration",
                  "Only analyze customer preferences",
                  "Only analyze competitors"
                ],
                correctIndex: 1,
                explanation: "Industry Value Chain maps the full sequence of activities across the industry and helps analyze profit pools and vertical integration decisions."
              },
              {
                text: "Company Value Chain distinguishes:",
                options: [
                  "Only between suppliers and customers",
                  "Primary activities (operations, sales) and Support activities (HR, IT), helping identify core vs outsourcable activities",
                  "Only between products and services",
                  "Only between online and offline"
                ],
                correctIndex: 1,
                explanation: "Company Value Chain identifies primary and support activities, helping determine which are core (strategic, VRIO) vs support (potentially outsourcable)."
              },
              {
                text: "Core activities in a company value chain should typically:",
                options: [
                  "Always be outsourced",
                  "Be kept in-house if they are strategic, VRIO resources, or central to competitive advantage",
                  "Never be strategic",
                  "Only include support functions"
                ],
                correctIndex: 1,
                explanation: "Core activities are strategic, VRIO resources, or central to advantage - these should typically be kept in-house, not outsourced."
              },
              {
                text: "Industry Value Chain analysis helps decide on vertical integration by:",
                options: [
                  "Only analyzing current costs",
                  "Identifying profit pools, understanding where value is captured, and evaluating whether owning more links creates advantage",
                  "Only looking at competitors",
                  "Ignoring the value chain structure"
                ],
                correctIndex: 1,
                explanation: "Industry value chain analysis identifies profit pools and value capture, helping evaluate whether vertical integration (owning more links) creates competitive advantage."
              },
              {
                text: "If a company activity is a VRIO resource central to competitive advantage, it should:",
                options: [
                  "Always be outsourced",
                  "Typically be kept in-house as a core activity",
                  "Only be analyzed for cost",
                  "Be ignored in strategy"
                ],
                correctIndex: 1,
                explanation: "VRIO resources that are central to advantage are core activities that should typically be kept in-house, not outsourced."
              }
            ]
          }
        ]
      },
      platforms: {
        title: "Platforms & Ecosystems ‚Äì Network Effects",
        badgeName: "Platform Guru",
        levels: [
          {
            lessonTitle: "Level 1 ‚Äì Platform Business Model vs Pipeline",
            lessonText: "Platform Business Model (Hagiu & Wright definition): Enables direct interactions between affiliated customers on the platform. The platform orchestrates external resources and facilitates interactions between user groups (buyers, sellers, complementors). Pipeline / Linear Business Model: Uses internal resources to produce and sell products/services to customers. There are no direct interactions between customers - the firm controls the value chain from production to sale. Key distinction: Platforms enable customer-to-customer interactions; pipelines control internal production and sell to customers. Many firms combine both - e.g., Amazon has pipeline (retail) and platform (marketplace) businesses. Understanding this distinction is crucial for strategy because platforms and pipelines have different economics, competitive dynamics, and strategic levers.",
            caseTitle: "Case: Glovo (Platform) vs Traditional Restaurant (Pipeline)",
            caseText: "Glovo (Platform): Enables direct interactions between customers (who order), merchants (restaurants/shops that supply), and couriers (who deliver). Glovo doesn't own restaurants or inventory - it facilitates interactions and takes a commission. Traditional Restaurant (Pipeline): Uses internal resources (kitchen, staff, ingredients) to produce meals and sell directly to customers. No customer-to-customer interactions - the restaurant controls production and sales. The restaurant's value comes from its internal capabilities (cooking, service), while Glovo's value comes from orchestrating the ecosystem.",
            questions: [
              {
                text: "A Platform Business Model is best defined as:",
                options: [
                  "A model that uses only internal resources to produce and sell",
                  "A model that enables direct interactions between affiliated customers on the platform",
                  "Only a website or app",
                  "A model that eliminates all intermediaries"
                ],
                correctIndex: 1,
                explanation: "Platforms enable direct interactions between different types of affiliated customers (buyers, sellers, complementors) on the platform."
              },
              {
                text: "A Pipeline / Linear Business Model:",
                options: [
                  "Enables direct customer-to-customer interactions",
                  "Uses internal resources to produce and sell to customers, with no direct interactions between customers",
                  "Only exists online",
                  "Is the same as a platform"
                ],
                correctIndex: 1,
                explanation: "Pipeline businesses use internal resources to produce and sell - customers don't interact with each other, only with the firm."
              },
              {
                text: "Glovo is best described as:",
                options: [
                  "A pure pipeline business (owns all restaurants and couriers)",
                  "A platform that connects customers, merchants (restaurants/shops), and couriers, facilitating interactions",
                  "Only a delivery service with no platform elements",
                  "Only a technology company"
                ],
                correctIndex: 1,
                explanation: "Glovo is a platform - it facilitates direct interactions between customers, merchants, and couriers without owning all the assets."
              },
              {
                text: "The key distinction between platforms and pipelines is:",
                options: [
                  "Platforms are always online, pipelines are offline",
                  "Platforms enable customer-to-customer interactions; pipelines control internal production and sell to customers",
                  "There is no difference",
                  "Only the size of the company"
                ],
                correctIndex: 1,
                explanation: "Platforms enable interactions between customers; pipelines control production internally and sell to customers."
              }
            ]
          },
          {
            lessonTitle: "Level 2 ‚Äì Network Effects: Direct vs Cross-side, and Tipping Points",
            lessonText: "Network Effects occur when the utility (and WTP) a user derives from a product increases with the number of other users. Direct (same-side) network effects: within the same user group (e.g., messaging apps - more friends using it increases value). Indirect / Cross-side network effects: between different user groups (e.g., more restaurants make platform more valuable to customers, more customers make it more valuable to restaurants). Winner-Take-All (WTA) dynamics: When network effects are strong and users coordinate on expectations, markets can exhibit tipping points. Beyond the tipping point, one platform can dominate, locking in users and locking out weaker rivals. Tipping points occur when network effects create self-reinforcing feedback loops that push one platform ahead very quickly.",
            caseTitle: "Case: Messaging Apps, Food Delivery, and Social Networks",
            caseText: "Messaging Apps (Direct): More friends using WhatsApp increases your utility - direct network effect on the same side. Food Delivery (Cross-side): More restaurants on Glovo increases value for customers; more customers increases value for restaurants - cross-side network effects. Social Networks (WTA): Facebook reached a tipping point where network effects created a winner-take-all dynamic - most people joined because others were there, making it very hard for new competitors to gain critical mass.",
            questions: [
              {
                text: "Direct (same-side) network effects occur:",
                options: [
                  "Between different user groups (e.g., restaurants and customers)",
                  "Within the same user group (e.g., more friends using a messaging app increases your utility)",
                  "Only in pipeline businesses",
                  "Only for suppliers"
                ],
                correctIndex: 1,
                explanation: "Direct network effects are within the same side - more users in your group increase the value for each user."
              },
              {
                text: "Cross-side (indirect) network effects occur:",
                options: [
                  "Only within the same user group",
                  "Between different user groups (e.g., more restaurants increase value for customers)",
                  "Only in pipeline businesses",
                  "Never in platform businesses"
                ],
                correctIndex: 1,
                explanation: "Cross-side effects link different user groups - more users on one side increase value for users on another side."
              },
              {
                text: "Winner-Take-All (WTA) dynamics in platforms refer to:",
                options: [
                  "All platforms always share the market equally",
                  "When strong network effects and tipping points allow one platform to dominate and lock out rivals",
                  "Only financial markets",
                  "Only pipeline businesses"
                ],
                correctIndex: 1,
                explanation: "WTA occurs when network effects create tipping points where one platform dominates and competitors struggle to gain critical mass."
              },
              {
                text: "A tipping point in platform markets is:",
                options: [
                  "The exact moment costs equal revenues",
                  "The user base level after which network effects push one platform ahead very quickly through self-reinforcing feedback",
                  "Only when regulation changes",
                  "The day a company launches"
                ],
                correctIndex: 1,
                explanation: "Tipping points occur when network effects create self-reinforcing loops that rapidly push one platform ahead of competitors."
              },
              {
                text: "When more restaurants join a delivery platform and this increases the platform's value for customers, we are seeing:",
                options: [
                  "A direct network effect on the restaurant side",
                  "A cross-side network effect from restaurants to customers",
                  "Only cost reductions",
                  "A pure macro PESTEL effect"
                ],
                correctIndex: 1,
                explanation: "More restaurants (one side) make the platform more valuable to customers (another side) - a cross-side network effect."
              }
            ]
          },
          {
            lessonTitle: "Level 3 ‚Äì Platform Competition: Three Modes",
            lessonText: "Platform competition occurs in three distinct modes: (1) Platform vs Platform - direct competition between rival platforms (e.g., Uber vs Lyft, iOS vs Android). Success depends on network effects, quality, pricing, and ecosystem strength. (2) Platform vs Complement - co-opetition where platforms compete with their own complementors (e.g., Amazon Marketplace vs Amazon Retail, Apple App Store vs Apple's own apps). Platforms must balance attracting complements while sometimes competing with them. (3) Complement vs Complement - competition among complements on the same platform (e.g., different apps on iOS, different restaurants on Glovo). Platform sets rules, but complements compete for users. Understanding these modes helps analyze competitive dynamics and strategic choices in platform ecosystems.",
            caseTitle: "Case: Apple's Platform Competition",
            caseText: "Platform vs Platform: iOS competes with Android for users and developers. Platform vs Complement: Apple competes with app developers (e.g., Apple Music vs Spotify, Apple Maps vs Google Maps) while also providing the platform. Complement vs Complement: Thousands of apps compete for users on the App Store, with Apple setting rules and taking a commission. Apple must balance these modes - competing with complements can reduce trust, but may be necessary for strategic control.",
            questions: [
              {
                text: "The three modes of platform competition are:",
                options: [
                  "Only Platform vs Platform",
                  "Platform vs Platform, Platform vs Complement, and Complement vs Complement",
                  "Only Complement vs Complement",
                  "Only financial competition"
                ],
                correctIndex: 1,
                explanation: "Three modes: (1) Platform vs Platform (direct competition), (2) Platform vs Complement (co-opetition), (3) Complement vs Complement (competition among complements)."
              },
              {
                text: "Platform vs Complement competition refers to:",
                options: [
                  "Only competition between two different platforms",
                  "Co-opetition where platforms compete with their own complementors (e.g., Amazon Marketplace vs Amazon Retail)",
                  "Only competition among complements",
                  "Only supplier competition"
                ],
                correctIndex: 1,
                explanation: "Platform vs Complement is co-opetition - the platform competes with its own complements while also providing the platform for them."
              },
              {
                text: "Complement vs Complement competition occurs when:",
                options: [
                  "Two platforms compete directly",
                  "Complements on the same platform compete for users (e.g., different apps on iOS)",
                  "Platforms compete with their own complements",
                  "Only platforms compete with suppliers"
                ],
                correctIndex: 1,
                explanation: "Complement vs Complement is competition among complements on the same platform, with the platform setting rules."
              },
              {
                text: "In a winner-take-all platform market, a key strategic risk for a smaller rival is:",
                options: [
                  "Having too many users",
                  "Being locked out if users coordinate on a competing platform that has already passed the tipping point",
                  "Having no fixed costs",
                  "Being forced to do PESTEL analysis"
                ],
                correctIndex: 1,
                explanation: "Once expectations coordinate on a rival and it passes the tipping point, smaller platforms can struggle to attract enough users to survive."
              }
            ]
          }
        ]
      }
    };

    // ===== SESSION CONFIGURATION =====
    const sessions = {
      session0: {
        title: "Session 0 ‚Äì Strategy Fundamentals & Process",
        intro: "Strategic management process: environment (T/O) + capabilities (S/W) ‚Üí strategy formulation; and implementation levers (structure, systems, people) guided by strategic leadership. Clarifies that strategy ‚â† operational effectiveness.",
        targetModule: "fundamentals",
        targetLevelIndex: 0
      },
      session1: {
        title: "Session 1 ‚Äì What is Strategy? Value Creation & Generic Strategies",
        intro: "Value Stick (SOC ‚Üí Cost ‚Üí Price ‚Üí WTP) and competitive advantage as value creation relative to rivals. Generic strategies: cost leadership, differentiation, focus; risk of being 'stuck in the middle'.",
        targetModule: "firm",
        targetLevelIndex: 0
      },
      session2: {
        title: "Session 2 ‚Äì Industry Analysis & Competitive Dynamics",
        intro: "Porter's 5 Forces, complements, profit pools, strategic groups, mobility barriers, and Key Success Factors (KSFs) derived from demand and supply.",
        targetModule: "industry",
        targetLevelIndex: 0
      },
      session3: {
        title: "Session 3 ‚Äì Resources & Capabilities",
        intro: "Resource-based View (RBV), VRIO (Valuable, Rare, Inimitable, Organized) for sustained advantage, core competences, dynamic capabilities (sensing, seizing, reconfiguring), Buy vs Build, and value chain analysis.",
        targetModule: "firm",
        targetLevelIndex: 1
      },
      session4: {
        title: "Session 4 ‚Äì Blue Ocean Strategy & Positioning",
        intro: "Blue Ocean Strategy: value curve, ERRC grid (Eliminate, Reduce, Raise, Create), three tiers of non-customers, and simultaneous differentiation + low cost (Yellow Tail case).",
        targetModule: "industry",
        targetLevelIndex: 2
      },
      session5: {
        title: "Session 5 ‚Äì Platforms & Network Effects",
        intro: "Platform vs pipeline business models, direct and cross-side network effects, tipping points, winner-take-all dynamics, and three modes of competition (platform vs platform, platform vs complement, complement vs complement).",
        targetModule: "platforms",
        targetLevelIndex: 0
      },
      session6: {
        title: "Session 6 ‚Äì Macro Environment & Uncertainty",
        intro: "PESTEL to identify key drivers of change, stakeholder analysis (coalitions such as NGOs + media + regulators), and scenario planning for high uncertainty (multiple plausible futures).",
        targetModule: "macro",
        targetLevelIndex: 0
      }
    };

    // ===== PERSISTENCE =====
    function loadState() {
      const saved = localStorage.getItem('strategyQuestState');
      if (saved) {
        try {
          const state = JSON.parse(saved);
          totalXP = state.totalXP || 0;
          badges = state.badges || [];
          moduleProgress = state.moduleProgress || {};
        } catch (e) {
          console.error('Failed to parse saved state, resetting:', e);
          localStorage.removeItem('strategyQuestState');
          totalXP = 0;
          badges = [];
          moduleProgress = {};
        }
      }
      updateDisplays();
    }

    function saveState() {
      const state = {
        totalXP,
        badges,
        moduleProgress
      };
      localStorage.setItem('strategyQuestState', JSON.stringify(state));
    }

    function resetProgress() {
      if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
        totalXP = 0;
        badges = [];
        moduleProgress = {};
        localStorage.removeItem('strategyQuestState');
        updateDisplays();
        updateModuleProgress();
        alert('Progress reset!');
      }
    }

    // ===== UI HELPERS =====
    function showSection(id) {
      const section = document.getElementById(id);
      if (!section) {
        console.error(`Section with id "${id}" not found`);
        return;
      }
      
      document.querySelectorAll('section').forEach(sec => {
        sec.classList.remove('active');
      });
      section.classList.add('active');
      
      document.querySelectorAll('nav button').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('onclick') && btn.getAttribute('onclick').includes(`'${id}'`)) {
          btn.classList.add('active');
        }
      });

      if (id === 'scoreboard') {
        updateScoreboard();
      } else if (id === 'modules') {
        updateModuleProgress();
      } else if (id === 'flashcards') {
        loadFlashcards();
      }
    }

    function updateDisplays() {
      const xpEl = document.getElementById('xp');
      const badgesEl = document.getElementById('badges');
      if (xpEl) xpEl.textContent = totalXP;
      if (badgesEl) badgesEl.textContent = badges.length;
    }

    function updateModuleProgress() {
      Object.keys(modules).forEach(key => {
        const progress = moduleProgress[key] || { levelsCompleted: 0, questionsAnswered: 0 };
        const totalLevels = modules[key].levels.length;
        const totalQuestions = modules[key].levels.reduce((sum, level) => sum + level.questions.length, 0);
        const completion = totalLevels > 0 ? (progress.levelsCompleted / totalLevels) * 100 : 0;
        
        const progressDiv = document.getElementById(`${key}-progress`);
        const progressBar = document.getElementById(`${key}-bar`);
        
        if (progressDiv && progressBar) {
          if (progress.levelsCompleted > 0) {
            progressDiv.style.display = 'block';
            progressBar.style.width = completion + '%';
          } else {
            progressDiv.style.display = 'none';
          }
        }
      });
    }

    function updateScoreboard() {
      const xpScoreboardEl = document.getElementById('xpScoreboard');
      if (xpScoreboardEl) xpScoreboardEl.textContent = totalXP;
      
      const badgeList = document.getElementById('badgeList');
      if (!badgeList) return;
      badgeList.innerHTML = '';
      
      if (badges.length === 0) {
        badgeList.innerHTML = '<div class="badge-item empty">No badges yet ‚Äì finish a module to earn one.</div>';
      } else {
        badges.forEach(badge => {
          const badgeDiv = document.createElement('div');
          badgeDiv.className = 'badge-item';
          badgeDiv.innerHTML = `üèÜ ${badge}`;
          badgeList.appendChild(badgeDiv);
        });
      }

      // Module progress list
      const progressList = document.getElementById('moduleProgressList');
      if (!progressList) return;
      progressList.innerHTML = '';
      
      Object.keys(modules).forEach(key => {
        const module = modules[key];
        const progress = moduleProgress[key] || { levelsCompleted: 0, questionsAnswered: 0 };
        const totalLevels = module.levels.length;
        const totalQuestions = module.levels.reduce((sum, level) => sum + level.questions.length, 0);
        const completion = totalLevels > 0 ? (progress.levelsCompleted / totalLevels) * 100 : 0;
        
        const moduleDiv = document.createElement('div');
        moduleDiv.className = 'module-completion';
        moduleDiv.innerHTML = `
          <h4>${module.title}</h4>
          <p>Levels completed: ${progress.levelsCompleted}/${totalLevels}</p>
          <div class="completion-bar">
            <div class="completion-fill" style="width: ${completion}%"></div>
          </div>
        `;
        progressList.appendChild(moduleDiv);
      });
    }

    function createConfetti() {
      const colors = ['#6366f1', '#8b5cf6', '#ec4899', '#f59e0b', '#10b981', '#06b6d4', '#fbbf24'];
      const confettiCount = 50;
      
      for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = '-10px';
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.width = Math.random() * 10 + 5 + 'px';
        confetti.style.height = confetti.style.width;
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        document.body.appendChild(confetti);
        
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }

    function showXPGain(amount, reason) {
      const xpDiv = document.createElement('div');
      xpDiv.className = 'xp-gain';
      xpDiv.textContent = `+${amount} XP: ${reason}`;
      document.body.appendChild(xpDiv);
      
      // Create confetti for significant XP gains
      if (amount >= 20) {
        createConfetti();
      }
      
      setTimeout(() => {
        xpDiv.remove();
      }, 3000);
    }

    // ===== EXAM MODE =====
    function toggleExamMode() {
      const examToggle = document.getElementById('examModeToggle');
      const timerDisplay = document.getElementById('timerDisplay');
      if (!examToggle || !timerDisplay) return;
      
      examMode = examToggle.checked;
      
      if (examMode) {
        timerDisplay.style.display = 'block';
        timeLeft = 90;
        examAnswers = [];
        startTimer();
      } else {
        timerDisplay.style.display = 'none';
        stopTimer();
      }
      
      if (currentModule) {
        loadCurrentState();
      }
    }

    function startTimer() {
      stopTimer();
      updateTimerDisplay();
      timerInterval = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          stopTimer();
          if (currentModule) {
            // Auto-submit current answer if timer runs out
            const optionsButtons = document.querySelectorAll('#options button:not(:disabled)');
            if (optionsButtons.length > 0 && optionsButtons[0]) {
              optionsButtons[0].click();
            }
          }
        }
      }, 1000);
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }

    function updateTimerDisplay() {
      const timerEl = document.getElementById('timer');
      if (timerEl) {
        timerEl.textContent = Math.max(0, timeLeft);
        const timerDisplay = timerEl.parentElement;
        if (timeLeft <= 10) {
          timerDisplay.style.background = 'var(--danger-light)';
          timerDisplay.style.borderColor = 'var(--danger)';
          timerDisplay.style.color = 'var(--danger-dark)';
          timerDisplay.style.animation = 'pulse 1s infinite';
        } else {
          timerDisplay.style.background = 'var(--danger-light)';
          timerDisplay.style.borderColor = 'var(--danger)';
          timerDisplay.style.color = 'var(--danger-dark)';
          timerDisplay.style.animation = 'none';
        }
      }
    }

    // ===== FRAMEWORK RECAPS =====
    const frameworkRecaps = {
      'macro': {
        0: {
          title: 'üìã Framework Recap: PESTEL Analysis',
          content: `
            <ul>
              <li><strong>Define scope:</strong> Political, Economic, Sociocultural, Technological, Environmental, Legal forces</li>
              <li><strong>Purpose:</strong> Identify key drivers of change that will shape industries</li>
              <li><strong>Output:</strong> List of major trends and uncertainties</li>
              <li><strong>Next step:</strong> Use scenarios if uncertainty is high</li>
            </ul>
          `
        },
        1: {
          title: 'üìã Framework Recap: Stakeholder Analysis',
          content: `
            <ul>
              <li><strong>Identify stakeholders:</strong> Who gains, who loses from macro changes?</li>
              <li><strong>Map relationships:</strong> Workers, regulators, customers, investors</li>
              <li><strong>Exogenous vs Endogenous:</strong> Distinguish macro shocks from competitive moves</li>
            </ul>
          `
        },
        2: {
          title: 'üìã Framework Recap: Scenario Planning',
          content: `
            <ul>
              <li><strong>When to use:</strong> High uncertainty about key drivers</li>
              <li><strong>Process:</strong> Identify 2-3 key variables ‚Üí Build 2-4 plausible futures</li>
              <li><strong>Goal:</strong> Strategy robust across scenarios, not just one forecast</li>
            </ul>
          `
        }
      },
      'industry': {
        0: {
          title: 'üìã Framework Recap: Porter\'s 5 Forces',
          content: `
            <ul>
              <li><strong>Step 1:</strong> Define the industry (product + geography)</li>
              <li><strong>Step 2:</strong> For each force, ask: does it raise or reduce average profitability?</li>
              <li><strong>Step 3:</strong> Justify with data: concentration, switching costs, differentiation, etc.</li>
              <li><strong>Conclusion:</strong> What does this imply for average profitability vs other industries?</li>
            </ul>
          `
        },
        1: {
          title: 'üìã Framework Recap: 5 Forces & Dynamic Capabilities',
          content: `
            <ul>
              <li><strong>5 Forces:</strong> Explain industry-level profitability</li>
              <li><strong>Dynamic Capabilities:</strong> Explain firm differences (sensing, seizing, reconfiguring)</li>
              <li><strong>Netflix example:</strong> Reduced supplier power (studios) by producing own content</li>
            </ul>
          `
        },
        2: {
          title: 'üìã Framework Recap: Blue Ocean Strategy (ERRC)',
          content: `
            <ul>
              <li><strong>Eliminate:</strong> Remove factors industry competes on (e.g., complexity, prestige)</li>
              <li><strong>Reduce:</strong> Lower factors below industry standard (e.g., range, price)</li>
              <li><strong>Raise:</strong> Raise factors above industry standard (e.g., ease, fun)</li>
              <li><strong>Create:</strong> Add new factors (e.g., approachability for non-experts)</li>
            </ul>
          `
        }
      },
      'firm': {
        0: {
          title: 'üìã Framework Recap: Value Stick',
          content: `
            <ul>
              <li><strong>Components:</strong> SOC (Supplier Opportunity Cost) ‚Üí Cost ‚Üí Price ‚Üí WTP (Willingness to Pay)</li>
              <li><strong>Firm margin:</strong> Price - Cost (key for profitability)</li>
              <li><strong>Strategy:</strong> Lower cost (cost leadership) OR raise WTP (differentiation)</li>
              <li><strong>Warning:</strong> Avoid "stuck in the middle" (low WTP + high cost)</li>
            </ul>
          `
        },
        1: {
          title: 'üìã Framework Recap: VRIO',
          content: `
            <ul>
              <li><strong>V (Valuable):</strong> Does it help exploit opportunities or neutralize threats?</li>
              <li><strong>R (Rare):</strong> Do few competitors have it?</li>
              <li><strong>I (Inimitable):</strong> Is it costly to imitate? (causal ambiguity, path dependence)</li>
              <li><strong>O (Organized):</strong> Is the firm organized to capture value? (structure, incentives, culture)</li>
              <li><strong>Result:</strong> VRIO ‚Üí Sustained competitive advantage</li>
            </ul>
          `
        },
        2: {
          title: 'üìã Framework Recap: Dynamic Capabilities',
          content: `
            <ul>
              <li><strong>Sensing:</strong> Identify and interpret opportunities/threats (scan environment)</li>
              <li><strong>Seizing:</strong> Mobilize resources to address opportunities (invest, commit)</li>
              <li><strong>Reconfiguring:</strong> Change asset base and activities (restructure, transform)</li>
              <li><strong>Example:</strong> Netflix sensed streaming ‚Üí seized by investing ‚Üí reconfigured from DVDs</li>
            </ul>
          `
        }
      },
      'platforms': {
        0: {
          title: 'üìã Framework Recap: Platform vs Pipeline',
          content: `
            <ul>
              <li><strong>Pipeline:</strong> Own assets, produce products, sell to customers</li>
              <li><strong>Platform:</strong> Enable direct interactions between affiliated customers</li>
              <li><strong>Key difference:</strong> Platform orchestrates external resources, doesn't own everything</li>
              <li><strong>Example:</strong> Glovo connects customers, merchants, couriers (multi-sided)</li>
            </ul>
          `
        },
        1: {
          title: 'üìã Framework Recap: Network Effects',
          content: `
            <ul>
              <li><strong>Direct (same-side):</strong> More users on same side increase value (e.g., messaging apps)</li>
              <li><strong>Cross-side:</strong> More users on one side increase value for other side (e.g., restaurants ‚Üí customers)</li>
              <li><strong>Demand-side:</strong> Value increases with number of users (vs supply-side = economies of scale)</li>
            </ul>
          `
        },
        2: {
          title: 'üìã Framework Recap: Winner-take-all Dynamics',
          content: `
            <ul>
              <li><strong>Tipping Point:</strong> User base level where network effects push one platform ahead</li>
              <li><strong>Winner-take-all:</strong> One platform dominates after tipping point</li>
              <li><strong>Risk for smaller rivals:</strong> Locked out if users coordinate on competing platform</li>
              <li><strong>Key:</strong> Strong network effects + user coordination = WTA markets</li>
            </ul>
          `
        }
      }
    };

    function showFrameworkRecap(moduleKey, levelIndex) {
      const recap = frameworkRecaps[moduleKey]?.[levelIndex];
      const recapDiv = document.getElementById('frameworkRecap');
      if (!recapDiv) return;
      
      if (recap) {
        recapDiv.style.display = 'block';
        const titleEl = document.getElementById('frameworkRecapTitle');
        const contentEl = document.getElementById('frameworkRecapContent');
        if (titleEl) titleEl.textContent = recap.title;
        if (contentEl) contentEl.innerHTML = recap.content;
      } else {
        recapDiv.style.display = 'none';
      }
    }

    // ===== BOSS BATTLE =====
    function startBossBattle() {
      // Collect all questions from all modules
      const allQuestions = [];
      Object.keys(modules).forEach(moduleKey => {
        if (!modules[moduleKey] || !modules[moduleKey].levels) return;
        modules[moduleKey].levels.forEach(level => {
          if (!level || !level.questions) return;
          level.questions.forEach((q, qIdx) => {
            if (q) {
              allQuestions.push({
                ...q,
                moduleKey,
                levelTitle: level.lessonTitle
              });
            }
          });
        });
      });

      if (allQuestions.length === 0) {
        alert('No questions available for Boss Battle. Please check module data.');
        return;
      }

      // Shuffle and take 10 random questions
      const shuffled = allQuestions.sort(() => Math.random() - 0.5);
      const bossQuestions = shuffled.slice(0, Math.min(10, allQuestions.length));

      // Create synthetic module
      currentModule = {
        title: 'üî• Final Boss Battle ‚Äì Mixed Strategy Quiz',
        badgeName: 'Strategy Wizard',
        levels: [{
          lessonTitle: 'Boss Battle',
          lessonText: 'Test your knowledge across all modules! Answer 10 random questions from Macro, Industry, Firm Strategy, and Platforms.',
          caseTitle: 'Mixed Topics Challenge',
          caseText: 'This quiz pulls questions from all course modules. Good luck!',
          questions: bossQuestions
        }]
      };

      currentLevelIndex = 0;
      currentQuestionIndex = 0;
      examMode = false;
      examAnswers = [];
      document.getElementById('examModeToggle').checked = false;
      document.getElementById('timerDisplay').style.display = 'none';
      
      // Hide session intro for boss battle
      const introCard = document.getElementById('sessionIntroCard');
      if (introCard) introCard.classList.add('hidden');
      
      loadCurrentState();
      showSection('moduleView');
    }

    // ===== MODULE LOGIC =====
    function startModule(key) {
      if (!modules[key]) {
        console.error(`Module "${key}" not found`);
        return;
      }
      // Hide session intro when starting module normally
      const introCard = document.getElementById('sessionIntroCard');
      if (introCard) introCard.classList.add('hidden');
      
      currentModule = modules[key];
      currentLevelIndex = 0;
      currentQuestionIndex = 0;
      examMode = false;
      examAnswers = [];
      const examToggle = document.getElementById('examModeToggle');
      const timerDisplay = document.getElementById('timerDisplay');
      if (examToggle) examToggle.checked = false;
      if (timerDisplay) timerDisplay.style.display = 'none';
      stopTimer();
      loadCurrentState();
      showSection('moduleView');
    }

    function openSession(sessionKey) {
      const session = sessions[sessionKey];
      if (!session) {
        console.error(`Session "${sessionKey}" not found`);
        return;
      }

      // Ensure practice mode (hide exam mode)
      examMode = false;
      examAnswers = [];
      const examToggle = document.getElementById('examModeToggle');
      const timerDisplay = document.getElementById('timerDisplay');
      if (examToggle) examToggle.checked = false;
      if (timerDisplay) timerDisplay.style.display = 'none';
      stopTimer();

      // Select the right module and level
      if (!modules[session.targetModule]) {
        console.error(`Module "${session.targetModule}" not found for session "${sessionKey}"`);
        return;
      }
      currentModule = modules[session.targetModule];
      currentLevelIndex = session.targetLevelIndex || 0;
      currentQuestionIndex = 0;

      // Update the session intro card
      const introCard = document.getElementById('sessionIntroCard');
      const introTitle = document.getElementById('sessionIntroTitle');
      const introText = document.getElementById('sessionIntroText');
      if (introCard && introTitle && introText) {
        introTitle.textContent = session.title;
        introText.textContent = session.intro;
        introCard.classList.remove('hidden');
      }

      // Load the first question/lesson of that level
      loadCurrentState();

      // Show the module/quiz section
      showSection('moduleView');
    }

    function loadCurrentState() {
      if (!currentModule) return;
      const m = currentModule;
      if (!m.levels || !m.levels[currentLevelIndex]) return;
      const level = m.levels[currentLevelIndex];
      if (!level.questions || !level.questions[currentQuestionIndex]) return;
      const q = level.questions[currentQuestionIndex];

      const moduleTitleEl = document.getElementById('moduleTitle');
      const moduleProgressEl = document.getElementById('moduleProgress');
      if (moduleTitleEl) moduleTitleEl.textContent = m.title;
      if (moduleProgressEl) {
        moduleProgressEl.textContent =
          `Level ${currentLevelIndex + 1} of ${m.levels.length} ‚Ä¢ Question ${currentQuestionIndex + 1} of ${level.questions.length}`;
      }
      const questionNumberEl = document.getElementById('questionNumber');
      if (questionNumberEl) {
        questionNumberEl.textContent = `Q${currentQuestionIndex + 1} / ${level.questions.length}`;
      }
      const lessonTitleEl = document.getElementById('lessonTitle');
      const lessonTextEl = document.getElementById('lessonText');
      const caseTitleEl = document.getElementById('caseTitle');
      const caseTextEl = document.getElementById('caseText');
      if (lessonTitleEl) lessonTitleEl.textContent = level.lessonTitle;
      if (lessonTextEl) lessonTextEl.textContent = level.lessonText;
      if (caseTitleEl) caseTitleEl.textContent = level.caseTitle;
      if (caseTextEl) caseTextEl.textContent = level.caseText;

      // Show framework recap
      const moduleKey = Object.keys(modules).find(key => modules[key] === m);
      const frameworkRecapEl = document.getElementById('frameworkRecap');
      if (moduleKey) {
        showFrameworkRecap(moduleKey, currentLevelIndex);
      } else if (frameworkRecapEl) {
        frameworkRecapEl.style.display = 'none';
      }

      const questionTextEl = document.getElementById('questionText');
      const optionsDiv = document.getElementById('options');
      const feedbackDiv = document.getElementById('feedback');
      const nextBtn = document.getElementById('nextBtn');
      if (questionTextEl) questionTextEl.textContent = q.text;
      if (optionsDiv) optionsDiv.innerHTML = '';
      if (feedbackDiv) {
        feedbackDiv.textContent = '';
        feedbackDiv.style.display = 'none';
        feedbackDiv.className = 'feedback';
      }
      if (nextBtn) nextBtn.classList.add('hidden');

      // Reset button states
      q.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.onclick = () => selectOption(idx);
        optionsDiv.appendChild(btn);
      });

      // Start timer if exam mode
      if (examMode) {
        timeLeft = 90;
        startTimer();
      } else {
        stopTimer();
      }
    }

    function selectOption(chosenIndex) {
      const m = currentModule;
      const level = m.levels[currentLevelIndex];
      const q = level.questions[currentQuestionIndex];
      const optionsButtons = document.querySelectorAll('#options button');
      
      // Store answer in exam mode
      if (examMode) {
        examAnswers.push({
          questionIndex: currentQuestionIndex,
          chosenIndex,
          correctIndex: q.correctIndex
        });
        stopTimer();
      }
      
      optionsButtons.forEach((btn, idx) => {
        btn.disabled = true;
        if (idx === q.correctIndex) {
          btn.classList.add('correct');
        }
        if (idx === chosenIndex && idx !== q.correctIndex) {
          btn.classList.add('wrong');
        }
      });

      const feedbackDiv = document.getElementById('feedback');
      
      if (examMode) {
        // In exam mode, don't show feedback until end
        feedbackDiv.style.display = 'none';
        document.getElementById('nextBtn').classList.remove('hidden');
      } else {
        // Practice mode: show feedback immediately
        feedbackDiv.style.display = 'block';
        
        if (chosenIndex === q.correctIndex) {
          totalXP += 10;
          updateDisplays();
          saveState();
          feedbackDiv.textContent = "‚úÖ Correct! " + q.explanation;
          feedbackDiv.className = 'feedback correct';
          showXPGain(10, 'Correct answer');
        } else {
          feedbackDiv.textContent = "‚ùå Not quite. " + q.explanation;
          feedbackDiv.className = 'feedback incorrect';
        }
        document.getElementById('nextBtn').classList.remove('hidden');
      }
    }


    function showExamSummary() {
      stopTimer();
      const m = currentModule;
      const level = m.levels[currentLevelIndex];
      
      // Calculate score
      let correct = 0;
      let total = examAnswers.length;
      
      examAnswers.forEach(answer => {
        if (answer.chosenIndex === answer.correctIndex) {
          correct++;
        }
      });

      // Show feedback for current question
      const optionsDiv = document.getElementById('options');
      const feedbackDiv = document.getElementById('feedback');
      const currentAnswer = examAnswers[examAnswers.length - 1];
      const currentQ = level.questions[currentQuestionIndex];
      
      if (currentAnswer) {
        const buttons = optionsDiv.querySelectorAll('button');
        buttons.forEach((btn, idx) => {
          if (idx === currentQ.correctIndex) {
            btn.classList.add('correct');
          }
          if (idx === currentAnswer.chosenIndex && idx !== currentQ.correctIndex) {
            btn.classList.add('wrong');
          }
        });
        
        feedbackDiv.style.display = 'block';
        if (currentAnswer.chosenIndex === currentQ.correctIndex) {
          feedbackDiv.textContent = "‚úÖ Correct! " + currentQ.explanation;
          feedbackDiv.className = 'feedback correct';
        } else {
          feedbackDiv.textContent = "‚ùå Incorrect. " + currentQ.explanation;
          feedbackDiv.className = 'feedback incorrect';
        }
      }

      // Determine rank
      let rank = '';
      let rankColor = '';
      if (correct <= 4) {
        rank = 'Rookie Strategist';
        rankColor = 'rgba(100, 100, 100, 0.3)';
      } else if (correct <= 7) {
        rank = 'Strategy Analyst';
        rankColor = 'rgba(99, 102, 241, 0.3)';
      } else {
        rank = 'Strategy Wizard';
        rankColor = 'rgba(168, 85, 247, 0.3)';
        createConfetti();
      }

      // Create summary card
      const summaryDiv = document.createElement('div');
      summaryDiv.className = 'exam-summary';
      summaryDiv.innerHTML = `
        <h3>üìä Exam Results</h3>
        <div class="rank-display" style="background: ${rankColor};">
          Score: ${correct}/${total}
        </div>
        <div class="rank-display" style="background: ${rankColor};">
          Rank: ${rank}
        </div>
        <p style="margin-top: 1rem;">${correct === total ? 'Perfect score! üéâ' : correct >= total * 0.7 ? 'Well done! üí™' : 'Keep practicing! üìö'}</p>
      `;
      
      // Insert summary before the quiz card
      const quizCard = document.querySelector('#moduleView .quiz-card');
      if (quizCard && quizCard.parentNode) {
        quizCard.parentNode.insertBefore(summaryDiv, quizCard.nextSibling);
      }
      
      // Award XP based on score
      const xpEarned = Math.floor((correct / total) * 50);
      if (xpEarned > 0) {
        totalXP += xpEarned;
        updateDisplays();
        saveState();
        showXPGain(xpEarned, 'Exam completed');
      }

      // Hide next button
      document.getElementById('nextBtn').classList.add('hidden');
    }

    function nextQuestion() {
      stopTimer();
      const m = currentModule;
      const level = m.levels[currentLevelIndex];

      if (currentQuestionIndex < level.questions.length - 1) {
        currentQuestionIndex++;
        loadCurrentState();
      } else {
        // Finished level
        if (examMode && examAnswers.length > 0) {
          // Show exam summary
          showExamSummary();
          return;
        }

        // Practice mode: continue as before
        const moduleKey = Object.keys(modules).find(key => modules[key] === m);
        if (!moduleProgress[moduleKey]) {
          moduleProgress[moduleKey] = { levelsCompleted: 0, questionsAnswered: 0 };
        }
        
        if (currentLevelIndex >= moduleProgress[moduleKey].levelsCompleted) {
          moduleProgress[moduleKey].levelsCompleted = currentLevelIndex + 1;
          totalXP += 20; // Level bonus
          updateDisplays();
          saveState();
          showXPGain(20, 'Level completed');
        }

        currentQuestionIndex = 0;
        examAnswers = []; // Reset exam answers
        
        if (currentLevelIndex < m.levels.length - 1) {
          currentLevelIndex++;
          setTimeout(() => {
            if (!examMode) {
              alert("Level completed! +20 XP üéâ");
            }
            loadCurrentState();
          }, 500);
        } else {
          // Module completed
          if (!badges.includes(m.badgeName)) {
            badges.push(m.badgeName);
            totalXP += 50; // Module completion bonus
            updateDisplays();
            saveState();
            showXPGain(50, 'Module completed');
            // Extra confetti for badge!
            setTimeout(() => createConfetti(), 300);
            setTimeout(() => createConfetti(), 600);
          }
          
          setTimeout(() => {
            if (!examMode) {
              alert(`Module completed! You earned the "${m.badgeName}" badge üèÜ`);
            }
            showSection('modules');
            updateModuleProgress();
          }, 500);
        }
      }
    }

    // ===== FLASHCARDS =====
    const flashcardsData = `What is the primary goal of a 'low-cost provider' generic strategy?,"To achieve lower overall costs than rivals while appealing to a broad spectrum of customers, often by underpricing them."
The 'broad differentiation' generic strategy involves seeking to differentiate a firm's product from rivals' in ways that appeal to a ____ spectrum of buyers.,broad
A 'focused low-cost' strategy concentrates on a narrow buyer segment and outcompetes rivals by having _____.,lower costs
What does a 'focused differentiation' strategy concentrate on?,"A narrow buyer segment, offering customised attributes that meet that segment's specific tastes and requirements better than rivals."
What is the objective of a 'best-cost provider' strategy?,To give customers more value for their money by satisfying their expectations on key attributes while beating their price expectations.
"According to Michael Porter, a firm that fails to adopt a single generic strategy and is not adding clear value to customers is described as being what?",Stuck in the Middle.
What graphical representation illustrates the trade-off between relative cost position and buyer value (WTP)?,The Productivity Frontier.
Under what circumstance involving competitive failure might a 'stuck in the middle' strategy work?,If rivals are similarly 'stuck in the middle' or if there is no significant competition.
"Which strategic framework, viewed as an extension of Porter's Generic Strategies, focuses on prices to customers rather than costs to the organisation?",Bowman's Strategy Clock.
"In Bowman's Strategy Clock, a 'no-frills' strategy combines a low price with what other characteristic?",Low perceived value.
A 'differentiation with price premium' strategy on the Strategy Clock is used to increase what?,Profit margins.
What is the central idea of a Blue Ocean Strategy regarding market boundaries?,That market boundaries are not fixed and can be reconstructed to unlock new demand.
"In Blue Ocean Strategy, what are 'first-tier' non-customers?","Buyers who purchase an industry's offerings out of necessity and will leave as soon as an opportunity arises."
The _____ framework in Blue Ocean Strategy involves asking four basic questions to create a new value curve.,ERRC (Eliminate-Reduce-Raise-Create)
"In the ERRC framework, what question does 'Eliminate' pose?",What factors should be eliminated that the industry has taken for granted?
"In the ERRC framework, what question does 'Create' pose?",What factors should be created that the industry has never offered?
A PESTEL analysis is a framework for analysing which environment relevant to an organisation?,The macro-environment.
"In a PESTEL analysis, what does the 'P' stand for?","Political factors, such as government stability, tax policy, and regulation."
"Factors such as inflation, economic growth, and exchange rates are considered under which category of a PESTEL analysis?",Economic.
"Demographics, cultural aspects, and health consciousness fall under the _____ category of a PESTEL analysis.",Sociocultural
What are 'key drivers for change' in the context of a macro-environmental analysis?,Factors that are likely to have a high impact on industries and the success or failure of strategies within them.
What is the primary purpose of scenario planning in strategic management?,To develop plausible views of the future environment to deal with high levels of uncertainty.
"In scenario planning, the four scenarios are typically created based on opposing outcomes for two selected _____.",key drivers of change
"What tool helps to rank stakeholders based on their importance to, and influence on, the organisation?",The stakeholder power/interest grid.
"In Porter's Five Forces model, what are 'substitutes'?",Products or services from outside the industry that offer a similar benefit to the industry's products or services.
The threat of new entry into an industry is low when the _____ are high.,barriers to entry
What factor increases the power of buyers in an industry?,When buyers are concentrated or have low switching costs.
Supplier power is likely to be high when suppliers provide a _____ or rare input.,specialist
What term describes the stage in an industry's lifecycle characterised by high expansion and high competition after an innovation has paid off?,Growth.
"In which stage of the industry lifecycle is competitive pressure high, with a focus on exploitation and incremental innovations?",Maturity.
What is the 'value stick' used to analyse in competitive strategy?,"The components of value creation: Willingness to Pay (WTP), Price, Cost, and Supplier's Opportunity Costs (SOC)."
Competitive advantage can be defined as the gap between a customer's Willingness to Pay (WTP) and the total _____.,Supplier's Opportunity Costs (SOC)
What are two key sources of a cost advantage for a firm pursuing a cost leadership strategy?,Economies of scale and experience curves.
What is the risk of a firm becoming too fixed on cost reduction in a cost leadership strategy?,It may ignore buyers' interest in additional features or overlook declining buyer sensitivity to price.
What are the key drivers of differentiation strategy?,"Product features, superior quality, convenience, and brand image."
A primary risk of a differentiation strategy is that the cost difference against competitors becomes so high that it's hard to hold ____.,brand loyalty
What is a 'strategic group' in competitor analysis?,A cluster of companies within an industry that follow similar strategies or compete on the same key strategic dimensions.
What do 'mobility barriers' prevent in the context of strategic groups?,They prevent firms from easily moving from one strategic group to a more profitable one.
What are Key Success Factors (KSFs)?,The most critical determinants of competitive advantage that arise from both demand-side expectations and supply-side constraints within an industry.
What is the difference between Key Success Factors (KSFs) and Minimum Success Factors (MSFs)?,"KSFs distinguish companies positively (making some better than others), while MSFs distinguish negatively (causing some to disappear if not met)."
The Resource-Based View (RBV) of the firm assumes that firms are heterogenous bundles of resources and that some resources are not perfectly _____ across firms.,mobile
What are the four criteria of the VRIO framework used to evaluate a firm's resources and capabilities?,"Valuable, Rare, Inimitable, and Organized to capture value."
"In the VRIO framework, what does 'Inimitable' mean?",The resource or capability is difficult and costly for other firms to copy or substitute.
What is 'causal ambiguity' as a barrier to imitation?,It's when the link between a firm's resources/capabilities and its performance is unclear or difficult to prove.
What are 'core competencies' according to Hamel & Prahalad?,"The collective learning in an organisation, especially how to coordinate diverse production skills and integrate multiple streams of technology."
What are 'dynamic capabilities'?,"The firm's processes to integrate, reconfigure, gain, and release resources to match and create market change."
What are the three types of dynamic capabilities identified by Teece et al.?,"Sensing, Seizing, and Reconfiguring."
"The dynamic capability of 'Sensing' involves scanning, searching, and exploring across markets and technologies to identify new _____.",opportunities and threats
What does the 'Reconfiguring' dynamic capability involve?,"The renewal and reconfiguration of a firm's capabilities, assets, and structures to adapt to change."
"In the context of acquiring resources, what is the 'winner's curse'?","A situation where a party overestimates the value of an object, bids higher than competitors, and is more likely to win it at an inflated price."
What concept explains that strategic asset stocks like reputation are accumulated over time and cannot be built instantly?,Time compression diseconomies.
What does an 'industry value chain' represent?,"The series of industries, each adding value, that are involved in producing goods and services, from raw materials to the end customer."
What is a 'profit pool analysis' used for?,"To analyse the total profits earned in an industry at all points along the value chain, showing the structure of profitability."
_____ integration is when a firm takes over ownership and control of its own inputs (suppliers).,Backward
What is a major risk of vertical integration?,"It ties more assets to the same value chain, increasing market-specific risk and decreasing flexibility."
What is 'disintermediation' in the context of a value chain?,"Bypassing a link in the value chain, where a firm retains the value of a supplier or customer without performing its function."
"A company's value chain is a succession of activities, functions, or departments, each of which must provide _____.",value
What is the key danger of outsourcing activities?,"A firm may inadvertently outsource its core activities, which are critical to its strategy and competitive advantage."
What defines a 'platform' business model?,"It enables direct interactions between affiliated customers, who control the key terms of the transactions."
How does a 'pipeline' business model differ from a 'platform' model in its operational focus?,"A pipeline focuses on internal optimisation, whereas a platform focuses on facilitating external interactions."
What type of network effect occurs when the value of a service to a user increases with the number of other users of the same service?,Direct network effect (or same-side network effect).
An operating system that becomes more valuable to users as more developers create apps for it is an example of a(n) _____ network effect.,indirect (or cross-side)
What is a 'Winner-Take-All' (WTA) scenario in a platform market?,A situation where strong network effects lead to one platform dominating and capturing most of the market.
What is 'multi-homing' in the context of platforms?,"When a user is active on multiple platforms, which can weaken network effects and reduce switching costs."
"When deciding which side of a multi-sided platform to subsidise, which side should typically receive the subsidy?","The side that generates greater marginal value for the other side, is more price-sensitive, or is less likely to multi-home."
What are the three dimensions of competition in a platform business model?,"Platform vs. Platform, Platform vs. Complement, and Complement vs. Complement."
What term describes a group of firms producing products and services that are essentially the same?,An industry.
The phenomenon where overconfidence or disappointment leads to overestimating short-term tech impact and underestimating long-term implications is called _____.,micro-myopia
What is the key criterion for defining industry boundaries in a Porter's Five Forces analysis?,"Substitutability, from both the demand and supply sides."
"What term did Andrew Grove of Intel popularise to describe the mindset that success breeds complacency, which in turn breeds failure?",Only the paranoid survive.
"According to Richard Rumelt, what are the three elements of a 'good' strategy?","A diagnosis, a guiding policy, and coherent actions."
Distinguish between business strategy and corporate strategy.,"Business strategy is about how to compete in a specific market, while corporate strategy is about where to compete, determining the overall scope of the organisation."
What is an emergent strategy?,"A realised strategy that emerges over time as a result of a series of decisions, often in response to unforeseen circumstances, rather than being explicitly intended from the start."
What is the primary difference between operational effectiveness and strategy?,"Operational effectiveness is about performing similar activities better than rivals, while strategy is about performing different activities or similar activities in different ways."
What does the 'E' in the PESTEL framework represent?,"Environmental factors, such as climate change, pollution, and waste disposal regulations."
"The 'shake out' phase, where the number of competitors begins to decrease through consolidation, occurs between which two stages of the industry lifecycle?",Between the growth and maturity stages.`;

    function parseFlashcardsCSV(csvText) {
      const flashcards = [];
      const lines = csvText.split('\n');
      
      for (let line of lines) {
        line = line.trim();
        if (!line) continue;
        
        // Parse CSV line handling quoted fields
        let question = '';
        let answer = '';
        let inQuotes = false;
        let currentField = '';
        
        for (let i = 0; i < line.length; i++) {
          const char = line[i];
          
          if (char === '"') {
            if (inQuotes && line[i + 1] === '"') {
              // Escaped quote
              currentField += '"';
              i++;
            } else {
              // Toggle quote state
              inQuotes = !inQuotes;
            }
          } else if (char === ',' && !inQuotes) {
            // Field separator
            if (!question) {
              question = currentField.trim();
              currentField = '';
            }
          } else {
            currentField += char;
          }
        }
        
        // Last field is the answer
        answer = currentField.trim();
        
        if (question && answer) {
          flashcards.push({ question, answer });
        }
      }
      
      return flashcards;
    }

    // Flashcard state
    let allFlashcards = [];
    let currentFlashcardIndex = 0;
    let currentFilter = 'all';
    let flashcardProgress = {}; // { index: 'good' | 'bad' | undefined }

    function loadFlashcardProgress() {
      const saved = localStorage.getItem('flashcardProgress');
      if (saved) {
        try {
          flashcardProgress = JSON.parse(saved);
        } catch (e) {
          console.error('Failed to parse flashcard progress, resetting:', e);
          localStorage.removeItem('flashcardProgress');
          flashcardProgress = {};
        }
      }
    }

    function saveFlashcardProgress() {
      localStorage.setItem('flashcardProgress', JSON.stringify(flashcardProgress));
    }

    function getFilteredFlashcards() {
      if (currentFilter === 'review') {
        return allFlashcards.filter((_, index) => flashcardProgress[index] === 'bad');
      }
      return allFlashcards;
    }

    function updateFlashcardCounts() {
      const total = allFlashcards.length;
      const toReview = Object.values(flashcardProgress).filter(status => status === 'bad').length;
      const answered = Object.values(flashcardProgress).filter(status => status === 'good').length;

      const countEl = document.getElementById('flashcardCount');
      const reviewEl = document.getElementById('toReviewCount');
      const answeredEl = document.getElementById('answeredCount');

      if (countEl) countEl.textContent = total;
      if (reviewEl) reviewEl.textContent = toReview;
      if (answeredEl) answeredEl.textContent = answered;
    }

    function loadFlashcards() {
      allFlashcards = parseFlashcardsCSV(flashcardsData);
      loadFlashcardProgress();
      updateFlashcardCounts();
      
      // Reset to first card when loading
      currentFlashcardIndex = 0;
      displayCurrentFlashcard();
    }

    function displayCurrentFlashcard() {
      const filtered = getFilteredFlashcards();
      
      if (filtered.length === 0) {
        document.getElementById('flashcardQuestion').textContent = 'No flashcards available';
        document.getElementById('flashcardAnswer').textContent = 'Try changing the filter or reset progress.';
        document.getElementById('prevBtn').disabled = true;
        document.getElementById('nextBtn').disabled = true;
        return;
      }

      // Ensure index is within bounds
      if (currentFlashcardIndex >= filtered.length) {
        currentFlashcardIndex = filtered.length - 1;
      }
      if (currentFlashcardIndex < 0) {
        currentFlashcardIndex = 0;
      }

      const card = filtered[currentFlashcardIndex];
      const originalIndex = allFlashcards.indexOf(card);
      const total = filtered.length;
      const current = currentFlashcardIndex + 1;

      // Update display
      document.getElementById('flashcardQuestion').textContent = card.question;
      document.getElementById('flashcardAnswer').textContent = card.answer;
      document.getElementById('flashcardNumber').textContent = `${current} / ${total}`;
      document.getElementById('flashcardNumberBack').textContent = `${current} / ${total}`;

      // Reset card to front
      const studyCard = document.getElementById('flashcardStudyCard');
      studyCard.classList.remove('flipped');

      // Update navigation buttons
      document.getElementById('prevBtn').disabled = currentFlashcardIndex === 0;
      document.getElementById('nextBtn').disabled = currentFlashcardIndex === filtered.length - 1;

      // Update filter button states
      document.getElementById('filterAll').style.background = currentFilter === 'all' ? 'var(--accent)' : 'var(--bg-card)';
      document.getElementById('filterAll').style.color = currentFilter === 'all' ? 'white' : 'var(--text-secondary)';
      document.getElementById('filterReview').style.background = currentFilter === 'review' ? 'var(--danger)' : 'var(--bg-card)';
      document.getElementById('filterReview').style.color = currentFilter === 'review' ? 'white' : 'var(--text-secondary)';
    }

    function flipStudyCard() {
      const studyCard = document.getElementById('flashcardStudyCard');
      studyCard.classList.toggle('flipped');
    }

    function nextFlashcard() {
      const filtered = getFilteredFlashcards();
      if (currentFlashcardIndex < filtered.length - 1) {
        currentFlashcardIndex++;
        displayCurrentFlashcard();
      }
    }

    function previousFlashcard() {
      if (currentFlashcardIndex > 0) {
        currentFlashcardIndex--;
        displayCurrentFlashcard();
      }
    }

    function markFlashcardAnswer(status, event) {
      if (event) {
        event.stopPropagation();
      }

      const filtered = getFilteredFlashcards();
      const card = filtered[currentFlashcardIndex];
      const originalIndex = allFlashcards.indexOf(card);

      flashcardProgress[originalIndex] = status;
      saveFlashcardProgress();
      updateFlashcardCounts();

      // Auto-advance to next card after a short delay
      setTimeout(() => {
        if (currentFlashcardIndex < filtered.length - 1) {
          nextFlashcard();
        } else if (currentFilter === 'review' && getFilteredFlashcards().length > 0) {
          // If we're in review mode and there are more cards, reset to first
          currentFlashcardIndex = 0;
          displayCurrentFlashcard();
        }
      }, 300);
    }

    function filterFlashcards(filter) {
      currentFilter = filter;
      currentFlashcardIndex = 0;
      displayCurrentFlashcard();
    }

    function resetFlashcardProgress() {
      if (confirm('Are you sure you want to reset all flashcard progress? This will clear all "Good Answer" and "To Review" marks.')) {
        flashcardProgress = {};
        saveFlashcardProgress();
        updateFlashcardCounts();
        currentFlashcardIndex = 0;
        displayCurrentFlashcard();
      }
    }

    // Keyboard navigation for flashcards
    document.addEventListener('keydown', function(e) {
      const flashcardsSection = document.getElementById('flashcards');
      if (flashcardsSection && flashcardsSection.classList.contains('active')) {
        if (e.key === 'ArrowLeft') {
          e.preventDefault();
          previousFlashcard();
        } else if (e.key === 'ArrowRight') {
          e.preventDefault();
          nextFlashcard();
        } else if (e.key === ' ' || e.key === 'Enter') {
          e.preventDefault();
          flipStudyCard();
        }
      }
    });

    // Initialize
    loadState();
    updateModuleProgress();
  </script>
</body>
</html>